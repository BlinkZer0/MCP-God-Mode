# WAN Malware Deployer Tool

## Overview

The **WAN Malware Deployer** is a comprehensive tool that enables safe deployment of malware payloads from The-MALWARE-Repo over WAN networks. It provides port scanning, payload selection, and secure execution in contained environments with extensive safety features.

## Features

### üöÄ Core Capabilities
- **Port Scanning**: Automatically scan target systems for open ports
- **Payload Management**: Fetch and manage malware payloads from GitHub repository
- **Safe Execution**: Execute payloads in sandboxed environments
- **Cross-Platform Support**: Works on Windows, Linux, and macOS
- **Natural Language Interface**: Conversational command processing

### üîí Safety Features
- **Sandboxed Execution**: All payloads run in isolated environments
- **Time Limits**: Configurable execution timeouts (max 5 minutes)
- **Size Restrictions**: Maximum payload size limits (50MB)
- **File Type Validation**: Only allows specific executable file types
- **Automatic Cleanup**: Removes temporary files after execution
- **Audit Logging**: Comprehensive logging of all operations

### üåê Network Capabilities
- **WAN Deployment**: Deploy payloads over wide area networks
- **Port Discovery**: Automatic port scanning with nmap integration
- **Service Detection**: Identify running services on target ports
- **Multiple Protocols**: Support for TCP and UDP scanning

## Tool Modes

### 1. Command Mode
Structured command execution with explicit parameters.

**Parameters:**
- `target`: Target IP address or hostname
- `payload_name`: Name of the malware payload to deploy
- `port`: Specific port to target (optional)
- `timeout`: Execution timeout in milliseconds (default: 60000)
- `safety_mode`: Enable safety features (default: true)
- `scan_only`: Only perform port scanning (default: false)

### 2. Natural Language Mode
Conversational interface for intuitive operation.

**Example Commands:**
- "scan and attack 192.168.1.100 with ransomware"
- "deploy trojan to target.com on port 8080"
- "list available payloads"
- "scan ports on 10.0.0.1"

### 3. List Payloads Mode
Display all available malware payloads from the repository.

### 4. Scan Target Mode
Perform port scanning without deploying payloads.

## Safety Configuration

### Execution Limits
```javascript
const SAFETY_CONFIG = {
    MAX_EXECUTION_TIME: 300000, // 5 minutes
    MAX_PAYLOAD_SIZE: 50 * 1024 * 1024, // 50MB
    ALLOWED_EXTENSIONS: ['.exe', '.bat', '.cmd', '.ps1', '.sh', '.py', '.js', '.jar', '.dll'],
    SANDBOX_DIR: './sandbox',
    REPO_CACHE_DIR: './malware-repo-cache',
    QUARANTINE_DIR: './quarantine'
};
```

### Sandboxing Features
- **Isolated Execution**: Payloads run in separate directories
- **Network Isolation**: Limited network access during execution
- **Resource Limits**: CPU and memory restrictions
- **File System Isolation**: Restricted file system access
- **Automatic Cleanup**: Temporary files are automatically removed

## Repository Integration

### GitHub Repository
- **Source**: https://github.com/Da2dalus/The-MALWARE-Repo
- **Caching**: Local caching with 24-hour refresh cycle
- **Validation**: File type and size validation
- **Security**: Safe download with integrity checks

### Payload Structure
Each payload directory contains:
- **Executable Files**: Main payload executables
- **Documentation**: README files with descriptions
- **Dependencies**: Required libraries and resources
- **Deployment Scripts**: Optional deployment automation

## Usage Examples

### Basic Port Scanning
```javascript
// Scan target for open ports
{
    "mode": "scan_target",
    "target": "192.168.1.100"
}
```

### List Available Payloads
```javascript
// Get list of available malware payloads
{
    "mode": "list_payloads"
}
```

### Deploy Specific Payload
```javascript
// Deploy ransomware to target
{
    "mode": "command",
    "target": "192.168.1.100",
    "payload_name": "ransomware",
    "timeout": 120000
}
```

### Natural Language Deployment
```javascript
// Use natural language interface
{
    "mode": "natural_language",
    "natural_language_command": "attack 192.168.1.100 with trojan on port 8080"
}
```

## Output Format

### Successful Deployment
```json
{
    "success": true,
    "message": "Successfully deployed ransomware to 192.168.1.100:443",
    "mode": "command",
    "target": "192.168.1.100",
    "scan_results": [
        {
            "port": 443,
            "protocol": "tcp",
            "service": "https"
        }
    ],
    "deployment_result": {
        "payload_name": "ransomware",
        "success": true,
        "stdout": "Payload executed successfully",
        "stderr": "",
        "execution_time": 15420
    },
    "safety_warnings": []
}
```

### Port Scan Results
```json
{
    "success": true,
    "message": "Port scan completed for 192.168.1.100",
    "mode": "scan_target",
    "target": "192.168.1.100",
    "scan_results": [
        {
            "port": 22,
            "protocol": "tcp",
            "service": "ssh"
        },
        {
            "port": 80,
            "protocol": "tcp",
            "service": "http"
        },
        {
            "port": 443,
            "protocol": "tcp",
            "service": "https"
        }
    ]
}
```

## Security Considerations

### ‚ö†Ô∏è Important Warnings
1. **Authorized Use Only**: This tool should only be used on systems you own or have explicit permission to test
2. **Legal Compliance**: Ensure compliance with local laws and regulations
3. **Safety Mode**: Always keep safety mode enabled unless absolutely necessary
4. **Network Isolation**: Use in isolated test environments when possible
5. **Audit Logging**: Enable comprehensive logging for compliance

### Best Practices
- **Test Environment**: Use only in controlled test environments
- **Backup Systems**: Ensure proper backups before testing
- **Network Segmentation**: Isolate test networks from production
- **Monitoring**: Monitor all deployment activities
- **Documentation**: Maintain detailed logs of all operations

## Error Handling

### Common Error Scenarios
1. **Repository Access**: GitHub repository unavailable or rate limited
2. **Target Unreachable**: Network connectivity issues
3. **Payload Not Found**: Requested payload doesn't exist
4. **Execution Timeout**: Payload execution exceeds time limits
5. **Permission Denied**: Insufficient permissions for execution

### Error Response Format
```json
{
    "success": false,
    "message": "Payload 'nonexistent' not found. Available payloads: ransomware, trojan, backdoor",
    "mode": "command",
    "target": "192.168.1.100",
    "available_payloads": [
        {
            "name": "ransomware",
            "description": "Encrypts files and demands payment",
            "executables": ["ransomware.exe", "decrypt.py"]
        }
    ]
}
```

## Dependencies

### Required Software
- **Node.js**: Runtime environment
- **Git**: Repository cloning and updates
- **Nmap**: Port scanning (optional, fallback available)
- **Docker**: Container execution (recommended)

### System Requirements
- **Memory**: Minimum 2GB RAM
- **Storage**: 1GB free space for repository cache
- **Network**: Internet access for repository fetching
- **Permissions**: File system write access for sandboxing

## Integration

### MCP Integration
The tool is fully integrated with the MCP God Mode platform and can be used alongside other security tools for comprehensive penetration testing and security assessment.

### API Compatibility
- **MCP Protocol**: Full MCP protocol compliance
- **JSON Schema**: Structured input/output validation
- **Error Handling**: Comprehensive error reporting
- **Logging**: Integrated logging system

## Troubleshooting

### Common Issues
1. **Repository Fetch Fails**: Check internet connectivity and GitHub access
2. **Port Scan Timeout**: Verify target is reachable and firewall settings
3. **Payload Execution Fails**: Check file permissions and dependencies
4. **Sandbox Creation Fails**: Verify disk space and write permissions

### Debug Mode
Enable debug logging by setting environment variable:
```bash
export DEBUG=wan_malware_deployer
```

## Legal Disclaimer

This tool is designed for educational and authorized security testing purposes only. Users are responsible for ensuring compliance with all applicable laws and regulations. The authors and maintainers are not responsible for any misuse of this tool.

## Support

For issues, questions, or contributions:
- **Documentation**: See the main MCP God Mode documentation
- **Issues**: Report bugs and feature requests through the project repository
- **Security**: Report security vulnerabilities responsibly

---

**Version**: 1.0.0  
**Last Updated**: January 2025  
**Compatibility**: MCP God Mode v2.0c+
