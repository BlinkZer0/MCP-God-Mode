#!/usr/bin/env node
"use strict";var C=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var jt=C(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.getParsedType=me.ZodParsedType=me.objectUtil=me.util=void 0;var hs;(function(a){a.assertEqual=r=>{};function e(r){}a.assertIs=e;function t(r){throw new Error}a.assertNever=t,a.arrayToEnum=r=>{let n={};for(let o of r)n[o]=o;return n},a.getValidEnumValues=r=>{let n=a.objectKeys(r).filter(i=>typeof r[r[i]]!="number"),o={};for(let i of n)o[i]=r[i];return a.objectValues(o)},a.objectValues=r=>a.objectKeys(r).map(function(n){return r[n]}),a.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let n=[];for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.push(o);return n},a.find=(r,n)=>{for(let o of r)if(n(o))return o},a.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,n=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}a.joinValues=s,a.jsonStringifyReplacer=(r,n)=>typeof n=="bigint"?n.toString():n})(hs||(me.util=hs={}));var Qn;(function(a){a.mergeShapes=(e,t)=>({...e,...t})})(Qn||(me.objectUtil=Qn={}));me.ZodParsedType=hs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var Rl=a=>{switch(typeof a){case"undefined":return me.ZodParsedType.undefined;case"string":return me.ZodParsedType.string;case"number":return Number.isNaN(a)?me.ZodParsedType.nan:me.ZodParsedType.number;case"boolean":return me.ZodParsedType.boolean;case"function":return me.ZodParsedType.function;case"bigint":return me.ZodParsedType.bigint;case"symbol":return me.ZodParsedType.symbol;case"object":return Array.isArray(a)?me.ZodParsedType.array:a===null?me.ZodParsedType.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?me.ZodParsedType.promise:typeof Map<"u"&&a instanceof Map?me.ZodParsedType.map:typeof Set<"u"&&a instanceof Set?me.ZodParsedType.set:typeof Date<"u"&&a instanceof Date?me.ZodParsedType.date:me.ZodParsedType.object;default:return me.ZodParsedType.unknown}};me.getParsedType=Rl});var Qt=C(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.ZodError=_r.quotelessJson=_r.ZodIssueCode=void 0;var Gn=jt();_r.ZodIssueCode=Gn.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var Tl=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");_r.quotelessJson=Tl;var Nt=class a extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(n){return n.message},s={_errors:[]},r=n=>{for(let o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(t(o));else{let i=s,c=0;for(;c<o.path.length;){let d=o.path[c];c===o.path.length-1?(i[d]=i[d]||{_errors:[]},i[d]._errors.push(t(o))):i[d]=i[d]||{_errors:[]},i=i[d],c++}}};return r(this),s}static assert(e){if(!(e instanceof a))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gn.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},s=[];for(let r of this.issues)if(r.path.length>0){let n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}};_r.ZodError=Nt;Nt.create=a=>new Nt(a)});var ms=C(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var Ae=Qt(),kr=jt(),Il=(a,e)=>{let t;switch(a.code){case Ae.ZodIssueCode.invalid_type:a.received===kr.ZodParsedType.undefined?t="Required":t=`Expected ${a.expected}, received ${a.received}`;break;case Ae.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(a.expected,kr.util.jsonStringifyReplacer)}`;break;case Ae.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${kr.util.joinValues(a.keys,", ")}`;break;case Ae.ZodIssueCode.invalid_union:t="Invalid input";break;case Ae.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${kr.util.joinValues(a.options)}`;break;case Ae.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${kr.util.joinValues(a.options)}, received '${a.received}'`;break;case Ae.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Ae.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Ae.ZodIssueCode.invalid_date:t="Invalid date";break;case Ae.ZodIssueCode.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(t=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?t=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?t=`Invalid input: must end with "${a.validation.endsWith}"`:kr.util.assertNever(a.validation):a.validation!=="regex"?t=`Invalid ${a.validation}`:t="Invalid";break;case Ae.ZodIssueCode.too_small:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="bigint"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:t="Invalid input";break;case Ae.ZodIssueCode.too_big:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?t=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:t="Invalid input";break;case Ae.ZodIssueCode.custom:t="Invalid input";break;case Ae.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Ae.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${a.multipleOf}`;break;case Ae.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=e.defaultError,kr.util.assertNever(a)}return{message:t}};ps.default=Il});var Gt=C(Pr=>{"use strict";var wl=Pr&&Pr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.defaultErrorMap=void 0;Pr.setErrorMap=Cl;Pr.getErrorMap=xl;var Wn=wl(ms());Pr.defaultErrorMap=Wn.default;var Yn=Wn.default;function Cl(a){Yn=a}function xl(){return Yn}});var gs=C(de=>{"use strict";var Ol=de&&de.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(de,"__esModule",{value:!0});de.isAsync=de.isValid=de.isDirty=de.isAborted=de.OK=de.DIRTY=de.INVALID=de.ParseStatus=de.EMPTY_PATH=de.makeIssue=void 0;de.addIssueToContext=Al;var Dl=Gt(),Xn=Ol(ms()),zl=a=>{let{data:e,path:t,errorMaps:s,issueData:r}=a,n=[...t,...r.path||[]],o={...r,path:n};if(r.message!==void 0)return{...r,path:n,message:r.message};let i="",c=s.filter(d=>!!d).slice().reverse();for(let d of c)i=d(o,{data:e,defaultError:i}).message;return{...r,path:n,message:i}};de.makeIssue=zl;de.EMPTY_PATH=[];function Al(a,e){let t=(0,Dl.getErrorMap)(),s=(0,de.makeIssue)({issueData:e,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,t,t===Xn.default?void 0:Xn.default].filter(r=>!!r)});a.common.issues.push(s)}var vs=class a{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let s=[];for(let r of t){if(r.status==="aborted")return de.INVALID;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){let s=[];for(let r of t){let n=await r.key,o=await r.value;s.push({key:n,value:o})}return a.mergeObjectSync(e,s)}static mergeObjectSync(e,t){let s={};for(let r of t){let{key:n,value:o}=r;if(n.status==="aborted"||o.status==="aborted")return de.INVALID;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[n.value]=o.value)}return{status:e.value,value:s}}};de.ParseStatus=vs;de.INVALID=Object.freeze({status:"aborted"});var jl=a=>({status:"dirty",value:a});de.DIRTY=jl;var Nl=a=>({status:"valid",value:a});de.OK=Nl;var $l=a=>a.status==="aborted";de.isAborted=$l;var ql=a=>a.status==="dirty";de.isDirty=ql;var kl=a=>a.status==="valid";de.isValid=kl;var Zl=a=>typeof Promise<"u"&&a instanceof Promise;de.isAsync=Zl});var ri=C(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0})});var ai=C(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.errorUtil=void 0;var ti;(function(a){a.errToObj=e=>typeof e=="string"?{message:e}:e||{},a.toString=e=>typeof e=="string"?e:e?.message})(ti||(Wt.errorUtil=ti={}))});var mi=C(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.discriminatedUnion=b.date=b.boolean=b.bigint=b.array=b.any=b.coerce=b.ZodFirstPartyTypeKind=b.late=b.ZodSchema=b.Schema=b.ZodReadonly=b.ZodPipeline=b.ZodBranded=b.BRAND=b.ZodNaN=b.ZodCatch=b.ZodDefault=b.ZodNullable=b.ZodOptional=b.ZodTransformer=b.ZodEffects=b.ZodPromise=b.ZodNativeEnum=b.ZodEnum=b.ZodLiteral=b.ZodLazy=b.ZodFunction=b.ZodSet=b.ZodMap=b.ZodRecord=b.ZodTuple=b.ZodIntersection=b.ZodDiscriminatedUnion=b.ZodUnion=b.ZodObject=b.ZodArray=b.ZodVoid=b.ZodNever=b.ZodUnknown=b.ZodAny=b.ZodNull=b.ZodUndefined=b.ZodSymbol=b.ZodDate=b.ZodBoolean=b.ZodBigInt=b.ZodNumber=b.ZodString=b.ZodType=void 0;b.NEVER=b.void=b.unknown=b.union=b.undefined=b.tuple=b.transformer=b.symbol=b.string=b.strictObject=b.set=b.record=b.promise=b.preprocess=b.pipeline=b.ostring=b.optional=b.onumber=b.oboolean=b.object=b.number=b.nullable=b.null=b.never=b.nativeEnum=b.nan=b.map=b.literal=b.lazy=b.intersection=b.instanceof=b.function=b.enum=b.effect=void 0;b.datetimeRegex=ui;b.custom=ci;var j=Qt(),Yt=Gt(),U=ai(),E=gs(),q=jt(),Ge=class{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},si=(a,e)=>{if((0,E.isValid)(e))return{success:!0,data:e.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new j.ZodError(a.common.issues);return this._error=t,this._error}}};function G(a){if(!a)return{};let{errorMap:e,invalid_type_error:t,required_error:s,description:r}=a;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,i)=>{let{message:c}=a;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:typeof i.data>"u"?{message:c??s??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:c??t??i.defaultError}},description:r}}var W=class{get description(){return this._def.description}_getType(e){return(0,q.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,q.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new E.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,q.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,E.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){let s={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,q.getParsedType)(e)},r=this._parseSync({data:e,path:s.path,parent:s});return si(s,r)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,q.getParsedType)(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:t});return(0,E.isValid)(s)?{value:s.value}:{issues:t.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>(0,E.isValid)(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){let s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){let s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,q.getParsedType)(e)},r=this._parse({data:e,path:s.path,parent:s}),n=await((0,E.isAsync)(r)?r:Promise.resolve(r));return si(s,n)}refine(e,t){let s=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,n)=>{let o=e(r),i=()=>n.addIssue({code:j.ZodIssueCode.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof t=="function"?t(s,r):t),!1))}_refinement(e){return new Ue({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Qe.create(this,this._def)}nullable(){return ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vr.create(this)}promise(){return Er.create(this,this._def)}or(e){return Hr.create([this,e],this._def)}and(e){return Br.create(this,e,this._def)}transform(e){return new Ue({...G(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new Wr({...G(this._def),innerType:this,defaultValue:t,typeName:K.ZodDefault})}brand(){return new $t({typeName:K.ZodBranded,type:this,...G(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Yr({...G(this._def),innerType:this,catchValue:t,typeName:K.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return qt.create(this,e)}readonly(){return Xr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};b.ZodType=W;b.Schema=W;b.ZodSchema=W;var Ll=/^c[^\s-]{8,}$/i,Ml=/^[0-9a-z]+$/,Fl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ul=/^[a-z0-9_-]{21}$/i,Hl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Bl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Kl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jl="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ys,Ql=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Wl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ec=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ii="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rc=new RegExp(`^${ii}$`);function oi(a){let e="[0-5]\\d";a.precision?e=`${e}\\.\\d{${a.precision}}`:a.precision==null&&(e=`${e}(\\.\\d+)?`);let t=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function tc(a){return new RegExp(`^${oi(a)}$`)}function ui(a){let e=`${ii}T${oi(a)}`,t=[];return t.push(a.local?"Z?":"Z"),a.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ac(a,e){return!!((e==="v4"||!e)&&Ql.test(a)||(e==="v6"||!e)&&Wl.test(a))}function sc(a,e){if(!Hl.test(a))return!1;try{let[t]=a.split(".");if(!t)return!1;let s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&r?.typ!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function nc(a,e){return!!((e==="v4"||!e)&&Gl.test(a)||(e==="v6"||!e)&&Yl.test(a))}var Sr=class a extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==q.ZodParsedType.string){let n=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(n,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.string,received:n.parsedType}),E.INVALID}let s=new E.ParseStatus,r;for(let n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")e.data.length>n.value&&(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){let o=e.data.length>n.value,i=e.data.length<n.value;(o||i)&&(r=this._getOrReturnCtx(e,r),o?(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):i&&(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")Kl.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"email",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")ys||(ys=new RegExp(Jl,"u")),ys.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"emoji",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")Vl.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"uuid",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")Ul.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"nanoid",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")Ll.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"cuid",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")Ml.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"cuid2",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")Fl.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"ulid",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"url",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"regex",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?ui(n).test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?rc.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?tc(n).test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?Bl.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"duration",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?ac(e.data,n.version)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"ip",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()):n.kind==="jwt"?sc(e.data,n.alg)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"jwt",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()):n.kind==="cidr"?nc(e.data,n.version)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"cidr",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?Xl.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"base64",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()):n.kind==="base64url"?ec.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{validation:"base64url",code:j.ZodIssueCode.invalid_string,message:n.message}),s.dirty()):q.util.assertNever(n);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(r=>e.test(r),{validation:t,code:j.ZodIssueCode.invalid_string,...U.errorUtil.errToObj(s)})}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...U.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...U.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...U.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...U.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...U.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...U.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...U.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...U.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...U.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...U.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...U.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...U.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...U.errorUtil.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...U.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...U.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...U.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...U.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...U.errorUtil.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...U.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...U.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...U.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...U.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...U.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,U.errorUtil.errToObj(e))}trim(){return new a({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new a({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new a({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};b.ZodString=Sr;Sr.create=a=>new Sr({checks:[],typeName:K.ZodString,coerce:a?.coerce??!1,...G(a)});function ic(a,e){let t=(a.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=t>s?t:s,n=Number.parseInt(a.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return n%o/10**r}var Zr=class a extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==q.ZodParsedType.number){let n=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(n,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.number,received:n.parsedType}),E.INVALID}let s,r=new E.ParseStatus;for(let n of this._def.checks)n.kind==="int"?q.util.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):n.kind==="multipleOf"?ic(e.data,n.value)!==0&&(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.not_finite,message:n.message}),r.dirty()):q.util.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,U.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,U.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,U.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,U.errorUtil.toString(t))}setLimit(e,t,s,r){return new a({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:U.errorUtil.toString(r)}]})}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:U.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:U.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:U.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&q.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}};b.ZodNumber=Zr;Zr.create=a=>new Zr({checks:[],typeName:K.ZodNumber,coerce:a?.coerce||!1,...G(a)});var Lr=class a extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==q.ZodParsedType.bigint)return this._getInvalidInput(e);let s,r=new E.ParseStatus;for(let n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):q.util.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.bigint,received:t.parsedType}),E.INVALID}gte(e,t){return this.setLimit("min",e,!0,U.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,U.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,U.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,U.errorUtil.toString(t))}setLimit(e,t,s,r){return new a({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:U.errorUtil.toString(r)}]})}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:U.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};b.ZodBigInt=Lr;Lr.create=a=>new Lr({checks:[],typeName:K.ZodBigInt,coerce:a?.coerce??!1,...G(a)});var Mr=class extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==q.ZodParsedType.boolean){let s=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.boolean,received:s.parsedType}),E.INVALID}return(0,E.OK)(e.data)}};b.ZodBoolean=Mr;Mr.create=a=>new Mr({typeName:K.ZodBoolean,coerce:a?.coerce||!1,...G(a)});var Fr=class a extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==q.ZodParsedType.date){let n=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(n,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.date,received:n.parsedType}),E.INVALID}if(Number.isNaN(e.data.getTime())){let n=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(n,{code:j.ZodIssueCode.invalid_date}),E.INVALID}let s=new E.ParseStatus,r;for(let n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),(0,E.addIssueToContext)(r,{code:j.ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):q.util.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:U.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:U.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};b.ZodDate=Fr;Fr.create=a=>new Fr({checks:[],coerce:a?.coerce||!1,typeName:K.ZodDate,...G(a)});var mt=class extends W{_parse(e){if(this._getType(e)!==q.ZodParsedType.symbol){let s=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.symbol,received:s.parsedType}),E.INVALID}return(0,E.OK)(e.data)}};b.ZodSymbol=mt;mt.create=a=>new mt({typeName:K.ZodSymbol,...G(a)});var Vr=class extends W{_parse(e){if(this._getType(e)!==q.ZodParsedType.undefined){let s=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.undefined,received:s.parsedType}),E.INVALID}return(0,E.OK)(e.data)}};b.ZodUndefined=Vr;Vr.create=a=>new Vr({typeName:K.ZodUndefined,...G(a)});var Ur=class extends W{_parse(e){if(this._getType(e)!==q.ZodParsedType.null){let s=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.null,received:s.parsedType}),E.INVALID}return(0,E.OK)(e.data)}};b.ZodNull=Ur;Ur.create=a=>new Ur({typeName:K.ZodNull,...G(a)});var br=class extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,E.OK)(e.data)}};b.ZodAny=br;br.create=a=>new br({typeName:K.ZodAny,...G(a)});var mr=class extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,E.OK)(e.data)}};b.ZodUnknown=mr;mr.create=a=>new mr({typeName:K.ZodUnknown,...G(a)});var tr=class extends W{_parse(e){let t=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.never,received:t.parsedType}),E.INVALID}};b.ZodNever=tr;tr.create=a=>new tr({typeName:K.ZodNever,...G(a)});var vt=class extends W{_parse(e){if(this._getType(e)!==q.ZodParsedType.undefined){let s=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.void,received:s.parsedType}),E.INVALID}return(0,E.OK)(e.data)}};b.ZodVoid=vt;vt.create=a=>new vt({typeName:K.ZodVoid,...G(a)});var vr=class a extends W{_parse(e){let{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==q.ZodParsedType.array)return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.array,received:t.parsedType}),E.INVALID;if(r.exactLength!==null){let o=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(o||i)&&((0,E.addIssueToContext)(t,{code:o?j.ZodIssueCode.too_big:j.ZodIssueCode.too_small,minimum:i?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&((0,E.addIssueToContext)(t,{code:j.ZodIssueCode.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&((0,E.addIssueToContext)(t,{code:j.ZodIssueCode.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>r.type._parseAsync(new Ge(t,o,t.path,i)))).then(o=>E.ParseStatus.mergeArray(s,o));let n=[...t.data].map((o,i)=>r.type._parseSync(new Ge(t,o,t.path,i)));return E.ParseStatus.mergeArray(s,n)}get element(){return this._def.type}min(e,t){return new a({...this._def,minLength:{value:e,message:U.errorUtil.toString(t)}})}max(e,t){return new a({...this._def,maxLength:{value:e,message:U.errorUtil.toString(t)}})}length(e,t){return new a({...this._def,exactLength:{value:e,message:U.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}};b.ZodArray=vr;vr.create=(a,e)=>new vr({type:a,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...G(e)});function pt(a){if(a instanceof Ze){let e={};for(let t in a.shape){let s=a.shape[t];e[t]=Qe.create(pt(s))}return new Ze({...a._def,shape:()=>e})}else return a instanceof vr?new vr({...a._def,type:pt(a.element)}):a instanceof Qe?Qe.create(pt(a.unwrap())):a instanceof ur?ur.create(pt(a.unwrap())):a instanceof or?or.create(a.items.map(e=>pt(e))):a}var Ze=class a extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=q.util.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==q.ZodParsedType.object){let d=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(d,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.object,received:d.parsedType}),E.INVALID}let{status:s,ctx:r}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof tr&&this._def.unknownKeys==="strip"))for(let d in r.data)o.includes(d)||i.push(d);let c=[];for(let d of o){let p=n[d],v=r.data[d];c.push({key:{status:"valid",value:d},value:p._parse(new Ge(r,v,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof tr){let d=this._def.unknownKeys;if(d==="passthrough")for(let p of i)c.push({key:{status:"valid",value:p},value:{status:"valid",value:r.data[p]}});else if(d==="strict")i.length>0&&((0,E.addIssueToContext)(r,{code:j.ZodIssueCode.unrecognized_keys,keys:i}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let p of i){let v=r.data[p];c.push({key:{status:"valid",value:p},value:d._parse(new Ge(r,v,r.path,p)),alwaysSet:p in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let d=[];for(let p of c){let v=await p.key,S=await p.value;d.push({key:v,value:S,alwaysSet:p.alwaysSet})}return d}).then(d=>E.ParseStatus.mergeObjectSync(s,d)):E.ParseStatus.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return U.errorUtil.errToObj,new a({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{let r=this._def.errorMap?.(t,s).message??s.defaultError;return t.code==="unrecognized_keys"?{message:U.errorUtil.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new a({...this._def,unknownKeys:"strip"})}passthrough(){return new a({...this._def,unknownKeys:"passthrough"})}extend(e){return new a({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new a({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new a({...this._def,catchall:e})}pick(e){let t={};for(let s of q.util.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new a({...this._def,shape:()=>t})}omit(e){let t={};for(let s of q.util.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new a({...this._def,shape:()=>t})}deepPartial(){return pt(this)}partial(e){let t={};for(let s of q.util.objectKeys(this.shape)){let r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}return new a({...this._def,shape:()=>t})}required(e){let t={};for(let s of q.util.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof Qe;)n=n._def.innerType;t[s]=n}return new a({...this._def,shape:()=>t})}keyof(){return li(q.util.objectKeys(this.shape))}};b.ZodObject=Ze;Ze.create=(a,e)=>new Ze({shape:()=>a,unknownKeys:"strip",catchall:tr.create(),typeName:K.ZodObject,...G(e)});Ze.strictCreate=(a,e)=>new Ze({shape:()=>a,unknownKeys:"strict",catchall:tr.create(),typeName:K.ZodObject,...G(e)});Ze.lazycreate=(a,e)=>new Ze({shape:a,unknownKeys:"strip",catchall:tr.create(),typeName:K.ZodObject,...G(e)});var Hr=class extends W{_parse(e){let{ctx:t}=this._processInputParams(e),s=this._def.options;function r(n){for(let i of n)if(i.result.status==="valid")return i.result;for(let i of n)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(i=>new j.ZodError(i.ctx.common.issues));return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_union,unionErrors:o}),E.INVALID}if(t.common.async)return Promise.all(s.map(async n=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let n,o=[];for(let c of s){let d={...t,common:{...t.common,issues:[]},parent:null},p=c._parseSync({data:t.data,path:t.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!n&&(n={result:p,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;let i=o.map(c=>new j.ZodError(c));return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_union,unionErrors:i}),E.INVALID}}get options(){return this._def.options}};b.ZodUnion=Hr;Hr.create=(a,e)=>new Hr({options:a,typeName:K.ZodUnion,...G(e)});var pr=a=>a instanceof Kr?pr(a.schema):a instanceof Ue?pr(a.innerType()):a instanceof Jr?[a.value]:a instanceof Qr?a.options:a instanceof Gr?q.util.objectValues(a.enum):a instanceof Wr?pr(a._def.innerType):a instanceof Vr?[void 0]:a instanceof Ur?[null]:a instanceof Qe?[void 0,...pr(a.unwrap())]:a instanceof ur?[null,...pr(a.unwrap())]:a instanceof $t||a instanceof Xr?pr(a.unwrap()):a instanceof Yr?pr(a._def.innerType):[],Xt=class a extends W{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==q.ZodParsedType.object)return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.object,received:t.parsedType}),E.INVALID;let s=this.discriminator,r=t.data[s],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):((0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),E.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){let r=new Map;for(let n of t){let o=pr(n.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of o){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new a({typeName:K.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...G(s)})}};b.ZodDiscriminatedUnion=Xt;function _s(a,e){let t=(0,q.getParsedType)(a),s=(0,q.getParsedType)(e);if(a===e)return{valid:!0,data:a};if(t===q.ZodParsedType.object&&s===q.ZodParsedType.object){let r=q.util.objectKeys(e),n=q.util.objectKeys(a).filter(i=>r.indexOf(i)!==-1),o={...a,...e};for(let i of n){let c=_s(a[i],e[i]);if(!c.valid)return{valid:!1};o[i]=c.data}return{valid:!0,data:o}}else if(t===q.ZodParsedType.array&&s===q.ZodParsedType.array){if(a.length!==e.length)return{valid:!1};let r=[];for(let n=0;n<a.length;n++){let o=a[n],i=e[n],c=_s(o,i);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return t===q.ZodParsedType.date&&s===q.ZodParsedType.date&&+a==+e?{valid:!0,data:a}:{valid:!1}}var Br=class extends W{_parse(e){let{status:t,ctx:s}=this._processInputParams(e),r=(n,o)=>{if((0,E.isAborted)(n)||(0,E.isAborted)(o))return E.INVALID;let i=_s(n.value,o.value);return i.valid?(((0,E.isDirty)(n)||(0,E.isDirty)(o))&&t.dirty(),{status:t.value,value:i.data}):((0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_intersection_types}),E.INVALID)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([n,o])=>r(n,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};b.ZodIntersection=Br;Br.create=(a,e,t)=>new Br({left:a,right:e,typeName:K.ZodIntersection,...G(t)});var or=class a extends W{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==q.ZodParsedType.array)return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.array,received:s.parsedType}),E.INVALID;if(s.data.length<this._def.items.length)return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),E.INVALID;!this._def.rest&&s.data.length>this._def.items.length&&((0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...s.data].map((o,i)=>{let c=this._def.items[i]||this._def.rest;return c?c._parse(new Ge(s,o,s.path,i)):null}).filter(o=>!!o);return s.common.async?Promise.all(n).then(o=>E.ParseStatus.mergeArray(t,o)):E.ParseStatus.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new a({...this._def,rest:e})}};b.ZodTuple=or;or.create=(a,e)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new or({items:a,typeName:K.ZodTuple,rest:null,...G(e)})};var ea=class a extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==q.ZodParsedType.object)return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.object,received:s.parsedType}),E.INVALID;let r=[],n=this._def.keyType,o=this._def.valueType;for(let i in s.data)r.push({key:n._parse(new Ge(s,i,s.path,i)),value:o._parse(new Ge(s,s.data[i],s.path,i)),alwaysSet:i in s.data});return s.common.async?E.ParseStatus.mergeObjectAsync(t,r):E.ParseStatus.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof W?new a({keyType:e,valueType:t,typeName:K.ZodRecord,...G(s)}):new a({keyType:Sr.create(),valueType:e,typeName:K.ZodRecord,...G(t)})}};b.ZodRecord=ea;var gt=class extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==q.ZodParsedType.map)return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.map,received:s.parsedType}),E.INVALID;let r=this._def.keyType,n=this._def.valueType,o=[...s.data.entries()].map(([i,c],d)=>({key:r._parse(new Ge(s,i,s.path,[d,"key"])),value:n._parse(new Ge(s,c,s.path,[d,"value"]))}));if(s.common.async){let i=new Map;return Promise.resolve().then(async()=>{for(let c of o){let d=await c.key,p=await c.value;if(d.status==="aborted"||p.status==="aborted")return E.INVALID;(d.status==="dirty"||p.status==="dirty")&&t.dirty(),i.set(d.value,p.value)}return{status:t.value,value:i}})}else{let i=new Map;for(let c of o){let d=c.key,p=c.value;if(d.status==="aborted"||p.status==="aborted")return E.INVALID;(d.status==="dirty"||p.status==="dirty")&&t.dirty(),i.set(d.value,p.value)}return{status:t.value,value:i}}}};b.ZodMap=gt;gt.create=(a,e,t)=>new gt({valueType:e,keyType:a,typeName:K.ZodMap,...G(t)});var yt=class a extends W{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==q.ZodParsedType.set)return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.set,received:s.parsedType}),E.INVALID;let r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&((0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&((0,E.addIssueToContext)(s,{code:j.ZodIssueCode.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let n=this._def.valueType;function o(c){let d=new Set;for(let p of c){if(p.status==="aborted")return E.INVALID;p.status==="dirty"&&t.dirty(),d.add(p.value)}return{status:t.value,value:d}}let i=[...s.data.values()].map((c,d)=>n._parse(new Ge(s,c,s.path,d)));return s.common.async?Promise.all(i).then(c=>o(c)):o(i)}min(e,t){return new a({...this._def,minSize:{value:e,message:U.errorUtil.toString(t)}})}max(e,t){return new a({...this._def,maxSize:{value:e,message:U.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};b.ZodSet=yt;yt.create=(a,e)=>new yt({valueType:a,minSize:null,maxSize:null,typeName:K.ZodSet,...G(e)});var ra=class a extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==q.ZodParsedType.function)return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.function,received:t.parsedType}),E.INVALID;function s(i,c){return(0,E.makeIssue)({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,Yt.getErrorMap)(),Yt.defaultErrorMap].filter(d=>!!d),issueData:{code:j.ZodIssueCode.invalid_arguments,argumentsError:c}})}function r(i,c){return(0,E.makeIssue)({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,Yt.getErrorMap)(),Yt.defaultErrorMap].filter(d=>!!d),issueData:{code:j.ZodIssueCode.invalid_return_type,returnTypeError:c}})}let n={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Er){let i=this;return(0,E.OK)(async function(...c){let d=new j.ZodError([]),p=await i._def.args.parseAsync(c,n).catch(f=>{throw d.addIssue(s(c,f)),d}),v=await Reflect.apply(o,this,p);return await i._def.returns._def.type.parseAsync(v,n).catch(f=>{throw d.addIssue(r(v,f)),d})})}else{let i=this;return(0,E.OK)(function(...c){let d=i._def.args.safeParse(c,n);if(!d.success)throw new j.ZodError([s(c,d.error)]);let p=Reflect.apply(o,this,d.data),v=i._def.returns.safeParse(p,n);if(!v.success)throw new j.ZodError([r(p,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new a({...this._def,args:or.create(e).rest(mr.create())})}returns(e){return new a({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new a({args:e||or.create([]).rest(mr.create()),returns:t||mr.create(),typeName:K.ZodFunction,...G(s)})}};b.ZodFunction=ra;var Kr=class extends W{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};b.ZodLazy=Kr;Kr.create=(a,e)=>new Kr({getter:a,typeName:K.ZodLazy,...G(e)});var Jr=class extends W{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(t,{received:t.data,code:j.ZodIssueCode.invalid_literal,expected:this._def.value}),E.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};b.ZodLiteral=Jr;Jr.create=(a,e)=>new Jr({value:a,typeName:K.ZodLiteral,...G(e)});function li(a,e){return new Qr({values:a,typeName:K.ZodEnum,...G(e)})}var Qr=class a extends W{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),s=this._def.values;return(0,E.addIssueToContext)(t,{expected:q.util.joinValues(s),received:t.parsedType,code:j.ZodIssueCode.invalid_type}),E.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),s=this._def.values;return(0,E.addIssueToContext)(t,{received:t.data,code:j.ZodIssueCode.invalid_enum_value,options:s}),E.INVALID}return(0,E.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return a.create(e,{...this._def,...t})}exclude(e,t=this._def){return a.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}};b.ZodEnum=Qr;Qr.create=li;var Gr=class extends W{_parse(e){let t=q.util.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==q.ZodParsedType.string&&s.parsedType!==q.ZodParsedType.number){let r=q.util.objectValues(t);return(0,E.addIssueToContext)(s,{expected:q.util.joinValues(r),received:s.parsedType,code:j.ZodIssueCode.invalid_type}),E.INVALID}if(this._cache||(this._cache=new Set(q.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let r=q.util.objectValues(t);return(0,E.addIssueToContext)(s,{received:s.data,code:j.ZodIssueCode.invalid_enum_value,options:r}),E.INVALID}return(0,E.OK)(e.data)}get enum(){return this._def.values}};b.ZodNativeEnum=Gr;Gr.create=(a,e)=>new Gr({values:a,typeName:K.ZodNativeEnum,...G(e)});var Er=class extends W{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==q.ZodParsedType.promise&&t.common.async===!1)return(0,E.addIssueToContext)(t,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.promise,received:t.parsedType}),E.INVALID;let s=t.parsedType===q.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,E.OK)(s.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}};b.ZodPromise=Er;Er.create=(a,e)=>new Er({type:a,typeName:K.ZodPromise,...G(e)});var Ue=class extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:o=>{(0,E.addIssueToContext)(s,o),o.fatal?t.abort():t.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),r.type==="preprocess"){let o=r.transform(s.data,n);if(s.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return E.INVALID;let c=await this._def.schema._parseAsync({data:i,path:s.path,parent:s});return c.status==="aborted"?E.INVALID:c.status==="dirty"||t.value==="dirty"?(0,E.DIRTY)(c.value):c});{if(t.value==="aborted")return E.INVALID;let i=this._def.schema._parseSync({data:o,path:s.path,parent:s});return i.status==="aborted"?E.INVALID:i.status==="dirty"||t.value==="dirty"?(0,E.DIRTY)(i.value):i}}if(r.type==="refinement"){let o=i=>{let c=r.refinement(i,n);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(s.common.async===!1){let i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?E.INVALID:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>i.status==="aborted"?E.INVALID:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(r.type==="transform")if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!(0,E.isValid)(o))return E.INVALID;let i=r.transform(o.value,n);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>(0,E.isValid)(o)?Promise.resolve(r.transform(o.value,n)).then(i=>({status:t.value,value:i})):E.INVALID);q.util.assertNever(r)}};b.ZodEffects=Ue;b.ZodTransformer=Ue;Ue.create=(a,e,t)=>new Ue({schema:a,typeName:K.ZodEffects,effect:e,...G(t)});Ue.createWithPreprocess=(a,e,t)=>new Ue({schema:e,effect:{type:"preprocess",transform:a},typeName:K.ZodEffects,...G(t)});var Qe=class extends W{_parse(e){return this._getType(e)===q.ZodParsedType.undefined?(0,E.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};b.ZodOptional=Qe;Qe.create=(a,e)=>new Qe({innerType:a,typeName:K.ZodOptional,...G(e)});var ur=class extends W{_parse(e){return this._getType(e)===q.ZodParsedType.null?(0,E.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};b.ZodNullable=ur;ur.create=(a,e)=>new ur({innerType:a,typeName:K.ZodNullable,...G(e)});var Wr=class extends W{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return t.parsedType===q.ZodParsedType.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};b.ZodDefault=Wr;Wr.create=(a,e)=>new Wr({innerType:a,typeName:K.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...G(e)});var Yr=class extends W{_parse(e){let{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return(0,E.isAsync)(r)?r.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new j.ZodError(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new j.ZodError(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};b.ZodCatch=Yr;Yr.create=(a,e)=>new Yr({innerType:a,typeName:K.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...G(e)});var _t=class extends W{_parse(e){if(this._getType(e)!==q.ZodParsedType.nan){let s=this._getOrReturnCtx(e);return(0,E.addIssueToContext)(s,{code:j.ZodIssueCode.invalid_type,expected:q.ZodParsedType.nan,received:s.parsedType}),E.INVALID}return{status:"valid",value:e.data}}};b.ZodNaN=_t;_t.create=a=>new _t({typeName:K.ZodNaN,...G(a)});b.BRAND=Symbol("zod_brand");var $t=class extends W{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}};b.ZodBranded=$t;var qt=class a extends W{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?E.INVALID:n.status==="dirty"?(t.dirty(),(0,E.DIRTY)(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{let r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?E.INVALID:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,t){return new a({in:e,out:t,typeName:K.ZodPipeline})}};b.ZodPipeline=qt;var Xr=class extends W{_parse(e){let t=this._def.innerType._parse(e),s=r=>((0,E.isValid)(r)&&(r.value=Object.freeze(r.value)),r);return(0,E.isAsync)(t)?t.then(r=>s(r)):s(t)}unwrap(){return this._def.innerType}};b.ZodReadonly=Xr;Xr.create=(a,e)=>new Xr({innerType:a,typeName:K.ZodReadonly,...G(e)});function ni(a,e){let t=typeof a=="function"?a(e):typeof a=="string"?{message:a}:a;return typeof t=="string"?{message:t}:t}function ci(a,e={},t){return a?br.create().superRefine((s,r)=>{let n=a(s);if(n instanceof Promise)return n.then(o=>{if(!o){let i=ni(e,s),c=i.fatal??t??!0;r.addIssue({code:"custom",...i,fatal:c})}});if(!n){let o=ni(e,s),i=o.fatal??t??!0;r.addIssue({code:"custom",...o,fatal:i})}}):br.create()}b.late={object:Ze.lazycreate};var K;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(K||(b.ZodFirstPartyTypeKind=K={}));var oc=(a,e={message:`Input not instance of ${a.name}`})=>ci(t=>t instanceof a,e);b.instanceof=oc;var di=Sr.create;b.string=di;var fi=Zr.create;b.number=fi;var uc=_t.create;b.nan=uc;var lc=Lr.create;b.bigint=lc;var hi=Mr.create;b.boolean=hi;var cc=Fr.create;b.date=cc;var dc=mt.create;b.symbol=dc;var fc=Vr.create;b.undefined=fc;var hc=Ur.create;b.null=hc;var pc=br.create;b.any=pc;var mc=mr.create;b.unknown=mc;var vc=tr.create;b.never=vc;var gc=vt.create;b.void=gc;var yc=vr.create;b.array=yc;var _c=Ze.create;b.object=_c;var Pc=Ze.strictCreate;b.strictObject=Pc;var Sc=Hr.create;b.union=Sc;var bc=Xt.create;b.discriminatedUnion=bc;var Ec=Br.create;b.intersection=Ec;var Rc=or.create;b.tuple=Rc;var Tc=ea.create;b.record=Tc;var Ic=gt.create;b.map=Ic;var wc=yt.create;b.set=wc;var Cc=ra.create;b.function=Cc;var xc=Kr.create;b.lazy=xc;var Oc=Jr.create;b.literal=Oc;var Dc=Qr.create;b.enum=Dc;var zc=Gr.create;b.nativeEnum=zc;var Ac=Er.create;b.promise=Ac;var pi=Ue.create;b.effect=pi;b.transformer=pi;var jc=Qe.create;b.optional=jc;var Nc=ur.create;b.nullable=Nc;var $c=Ue.createWithPreprocess;b.preprocess=$c;var qc=qt.create;b.pipeline=qc;var kc=()=>di().optional();b.ostring=kc;var Zc=()=>fi().optional();b.onumber=Zc;var Lc=()=>hi().optional();b.oboolean=Lc;b.coerce={string:a=>Sr.create({...a,coerce:!0}),number:a=>Zr.create({...a,coerce:!0}),boolean:a=>Mr.create({...a,coerce:!0}),bigint:a=>Lr.create({...a,coerce:!0}),date:a=>Fr.create({...a,coerce:!0})};b.NEVER=E.INVALID});var Ps=C(We=>{"use strict";var Mc=We&&We.__createBinding||(Object.create?function(a,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(a,s,r)}:function(a,e,t,s){s===void 0&&(s=t),a[s]=e[t]}),Pt=We&&We.__exportStar||function(a,e){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Mc(e,a,t)};Object.defineProperty(We,"__esModule",{value:!0});Pt(Gt(),We);Pt(gs(),We);Pt(ri(),We);Pt(jt(),We);Pt(mi(),We);Pt(Qt(),We)});var Rr=C(Le=>{"use strict";var vi=Le&&Le.__createBinding||(Object.create?function(a,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(a,s,r)}:function(a,e,t,s){s===void 0&&(s=t),a[s]=e[t]}),Fc=Le&&Le.__setModuleDefault||(Object.create?function(a,e){Object.defineProperty(a,"default",{enumerable:!0,value:e})}:function(a,e){a.default=e}),Vc=Le&&Le.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var t in a)t!=="default"&&Object.prototype.hasOwnProperty.call(a,t)&&vi(e,a,t);return Fc(e,a),e},Uc=Le&&Le.__exportStar||function(a,e){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vi(e,a,t)};Object.defineProperty(Le,"__esModule",{value:!0});Le.z=void 0;var gi=Vc(Ps());Le.z=gi;Uc(Ps(),Le);Le.default=gi});var Zt=C(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.UnsubscribeRequestSchema=u.SubscribeRequestSchema=u.ResourceListChangedNotificationSchema=u.ReadResourceResultSchema=u.ReadResourceRequestSchema=u.ListResourceTemplatesResultSchema=u.ListResourceTemplatesRequestSchema=u.ListResourcesResultSchema=u.ListResourcesRequestSchema=u.ResourceTemplateSchema=u.ResourceSchema=u.BlobResourceContentsSchema=u.TextResourceContentsSchema=u.ResourceContentsSchema=u.PaginatedResultSchema=u.PaginatedRequestSchema=u.ProgressNotificationSchema=u.ProgressSchema=u.PingRequestSchema=u.isInitializedNotification=u.InitializedNotificationSchema=u.InitializeResultSchema=u.ServerCapabilitiesSchema=u.isInitializeRequest=u.InitializeRequestSchema=u.ClientCapabilitiesSchema=u.ImplementationSchema=u.BaseMetadataSchema=u.CancelledNotificationSchema=u.EmptyResultSchema=u.JSONRPCMessageSchema=u.isJSONRPCError=u.JSONRPCErrorSchema=u.ErrorCode=u.isJSONRPCResponse=u.JSONRPCResponseSchema=u.isJSONRPCNotification=u.JSONRPCNotificationSchema=u.isJSONRPCRequest=u.JSONRPCRequestSchema=u.RequestIdSchema=u.ResultSchema=u.NotificationSchema=u.RequestSchema=u.CursorSchema=u.ProgressTokenSchema=u.JSONRPC_VERSION=u.SUPPORTED_PROTOCOL_VERSIONS=u.DEFAULT_NEGOTIATED_PROTOCOL_VERSION=u.LATEST_PROTOCOL_VERSION=void 0;u.ClientResultSchema=u.ClientNotificationSchema=u.ClientRequestSchema=u.RootsListChangedNotificationSchema=u.ListRootsResultSchema=u.ListRootsRequestSchema=u.RootSchema=u.CompleteResultSchema=u.CompleteRequestSchema=u.PromptReferenceSchema=u.ResourceReferenceSchema=u.ResourceTemplateReferenceSchema=u.ElicitResultSchema=u.ElicitRequestSchema=u.PrimitiveSchemaDefinitionSchema=u.EnumSchemaSchema=u.NumberSchemaSchema=u.StringSchemaSchema=u.BooleanSchemaSchema=u.CreateMessageResultSchema=u.CreateMessageRequestSchema=u.SamplingMessageSchema=u.ModelPreferencesSchema=u.ModelHintSchema=u.LoggingMessageNotificationSchema=u.SetLevelRequestSchema=u.LoggingLevelSchema=u.ToolListChangedNotificationSchema=u.CallToolRequestSchema=u.CompatibilityCallToolResultSchema=u.CallToolResultSchema=u.ListToolsResultSchema=u.ListToolsRequestSchema=u.ToolSchema=u.ToolAnnotationsSchema=u.PromptListChangedNotificationSchema=u.GetPromptResultSchema=u.PromptMessageSchema=u.ContentBlockSchema=u.ResourceLinkSchema=u.EmbeddedResourceSchema=u.AudioContentSchema=u.ImageContentSchema=u.TextContentSchema=u.GetPromptRequestSchema=u.ListPromptsResultSchema=u.ListPromptsRequestSchema=u.PromptSchema=u.PromptArgumentSchema=u.ResourceUpdatedNotificationSchema=void 0;u.McpError=u.ServerResultSchema=u.ServerNotificationSchema=u.ServerRequestSchema=void 0;var l=Rr();u.LATEST_PROTOCOL_VERSION="2025-06-18";u.DEFAULT_NEGOTIATED_PROTOCOL_VERSION="2025-03-26";u.SUPPORTED_PROTOCOL_VERSIONS=[u.LATEST_PROTOCOL_VERSION,"2025-03-26","2024-11-05","2024-10-07"];u.JSONRPC_VERSION="2.0";u.ProgressTokenSchema=l.z.union([l.z.string(),l.z.number().int()]);u.CursorSchema=l.z.string();var Hc=l.z.object({progressToken:l.z.optional(u.ProgressTokenSchema)}).passthrough(),Ye=l.z.object({_meta:l.z.optional(Hc)}).passthrough();u.RequestSchema=l.z.object({method:l.z.string(),params:l.z.optional(Ye)});var kt=l.z.object({_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.NotificationSchema=l.z.object({method:l.z.string(),params:l.z.optional(kt)});u.ResultSchema=l.z.object({_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.RequestIdSchema=l.z.union([l.z.string(),l.z.number().int()]);u.JSONRPCRequestSchema=l.z.object({jsonrpc:l.z.literal(u.JSONRPC_VERSION),id:u.RequestIdSchema}).merge(u.RequestSchema).strict();var Bc=a=>u.JSONRPCRequestSchema.safeParse(a).success;u.isJSONRPCRequest=Bc;u.JSONRPCNotificationSchema=l.z.object({jsonrpc:l.z.literal(u.JSONRPC_VERSION)}).merge(u.NotificationSchema).strict();var Kc=a=>u.JSONRPCNotificationSchema.safeParse(a).success;u.isJSONRPCNotification=Kc;u.JSONRPCResponseSchema=l.z.object({jsonrpc:l.z.literal(u.JSONRPC_VERSION),id:u.RequestIdSchema,result:u.ResultSchema}).strict();var Jc=a=>u.JSONRPCResponseSchema.safeParse(a).success;u.isJSONRPCResponse=Jc;var yi;(function(a){a[a.ConnectionClosed=-32e3]="ConnectionClosed",a[a.RequestTimeout=-32001]="RequestTimeout",a[a.ParseError=-32700]="ParseError",a[a.InvalidRequest=-32600]="InvalidRequest",a[a.MethodNotFound=-32601]="MethodNotFound",a[a.InvalidParams=-32602]="InvalidParams",a[a.InternalError=-32603]="InternalError"})(yi||(u.ErrorCode=yi={}));u.JSONRPCErrorSchema=l.z.object({jsonrpc:l.z.literal(u.JSONRPC_VERSION),id:u.RequestIdSchema,error:l.z.object({code:l.z.number().int(),message:l.z.string(),data:l.z.optional(l.z.unknown())})}).strict();var Qc=a=>u.JSONRPCErrorSchema.safeParse(a).success;u.isJSONRPCError=Qc;u.JSONRPCMessageSchema=l.z.union([u.JSONRPCRequestSchema,u.JSONRPCNotificationSchema,u.JSONRPCResponseSchema,u.JSONRPCErrorSchema]);u.EmptyResultSchema=u.ResultSchema.strict();u.CancelledNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/cancelled"),params:kt.extend({requestId:u.RequestIdSchema,reason:l.z.string().optional()})});u.BaseMetadataSchema=l.z.object({name:l.z.string(),title:l.z.optional(l.z.string())}).passthrough();u.ImplementationSchema=u.BaseMetadataSchema.extend({version:l.z.string()});u.ClientCapabilitiesSchema=l.z.object({experimental:l.z.optional(l.z.object({}).passthrough()),sampling:l.z.optional(l.z.object({}).passthrough()),elicitation:l.z.optional(l.z.object({}).passthrough()),roots:l.z.optional(l.z.object({listChanged:l.z.optional(l.z.boolean())}).passthrough())}).passthrough();u.InitializeRequestSchema=u.RequestSchema.extend({method:l.z.literal("initialize"),params:Ye.extend({protocolVersion:l.z.string(),capabilities:u.ClientCapabilitiesSchema,clientInfo:u.ImplementationSchema})});var Gc=a=>u.InitializeRequestSchema.safeParse(a).success;u.isInitializeRequest=Gc;u.ServerCapabilitiesSchema=l.z.object({experimental:l.z.optional(l.z.object({}).passthrough()),logging:l.z.optional(l.z.object({}).passthrough()),completions:l.z.optional(l.z.object({}).passthrough()),prompts:l.z.optional(l.z.object({listChanged:l.z.optional(l.z.boolean())}).passthrough()),resources:l.z.optional(l.z.object({subscribe:l.z.optional(l.z.boolean()),listChanged:l.z.optional(l.z.boolean())}).passthrough()),tools:l.z.optional(l.z.object({listChanged:l.z.optional(l.z.boolean())}).passthrough())}).passthrough();u.InitializeResultSchema=u.ResultSchema.extend({protocolVersion:l.z.string(),capabilities:u.ServerCapabilitiesSchema,serverInfo:u.ImplementationSchema,instructions:l.z.optional(l.z.string())});u.InitializedNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/initialized")});var Wc=a=>u.InitializedNotificationSchema.safeParse(a).success;u.isInitializedNotification=Wc;u.PingRequestSchema=u.RequestSchema.extend({method:l.z.literal("ping")});u.ProgressSchema=l.z.object({progress:l.z.number(),total:l.z.optional(l.z.number()),message:l.z.optional(l.z.string())}).passthrough();u.ProgressNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/progress"),params:kt.merge(u.ProgressSchema).extend({progressToken:u.ProgressTokenSchema})});u.PaginatedRequestSchema=u.RequestSchema.extend({params:Ye.extend({cursor:l.z.optional(u.CursorSchema)}).optional()});u.PaginatedResultSchema=u.ResultSchema.extend({nextCursor:l.z.optional(u.CursorSchema)});u.ResourceContentsSchema=l.z.object({uri:l.z.string(),mimeType:l.z.optional(l.z.string()),_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.TextResourceContentsSchema=u.ResourceContentsSchema.extend({text:l.z.string()});var bs=l.z.string().refine(a=>{try{return atob(a),!0}catch{return!1}},{message:"Invalid Base64 string"});u.BlobResourceContentsSchema=u.ResourceContentsSchema.extend({blob:bs});u.ResourceSchema=u.BaseMetadataSchema.extend({uri:l.z.string(),description:l.z.optional(l.z.string()),mimeType:l.z.optional(l.z.string()),_meta:l.z.optional(l.z.object({}).passthrough())});u.ResourceTemplateSchema=u.BaseMetadataSchema.extend({uriTemplate:l.z.string(),description:l.z.optional(l.z.string()),mimeType:l.z.optional(l.z.string()),_meta:l.z.optional(l.z.object({}).passthrough())});u.ListResourcesRequestSchema=u.PaginatedRequestSchema.extend({method:l.z.literal("resources/list")});u.ListResourcesResultSchema=u.PaginatedResultSchema.extend({resources:l.z.array(u.ResourceSchema)});u.ListResourceTemplatesRequestSchema=u.PaginatedRequestSchema.extend({method:l.z.literal("resources/templates/list")});u.ListResourceTemplatesResultSchema=u.PaginatedResultSchema.extend({resourceTemplates:l.z.array(u.ResourceTemplateSchema)});u.ReadResourceRequestSchema=u.RequestSchema.extend({method:l.z.literal("resources/read"),params:Ye.extend({uri:l.z.string()})});u.ReadResourceResultSchema=u.ResultSchema.extend({contents:l.z.array(l.z.union([u.TextResourceContentsSchema,u.BlobResourceContentsSchema]))});u.ResourceListChangedNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/resources/list_changed")});u.SubscribeRequestSchema=u.RequestSchema.extend({method:l.z.literal("resources/subscribe"),params:Ye.extend({uri:l.z.string()})});u.UnsubscribeRequestSchema=u.RequestSchema.extend({method:l.z.literal("resources/unsubscribe"),params:Ye.extend({uri:l.z.string()})});u.ResourceUpdatedNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/resources/updated"),params:kt.extend({uri:l.z.string()})});u.PromptArgumentSchema=l.z.object({name:l.z.string(),description:l.z.optional(l.z.string()),required:l.z.optional(l.z.boolean())}).passthrough();u.PromptSchema=u.BaseMetadataSchema.extend({description:l.z.optional(l.z.string()),arguments:l.z.optional(l.z.array(u.PromptArgumentSchema)),_meta:l.z.optional(l.z.object({}).passthrough())});u.ListPromptsRequestSchema=u.PaginatedRequestSchema.extend({method:l.z.literal("prompts/list")});u.ListPromptsResultSchema=u.PaginatedResultSchema.extend({prompts:l.z.array(u.PromptSchema)});u.GetPromptRequestSchema=u.RequestSchema.extend({method:l.z.literal("prompts/get"),params:Ye.extend({name:l.z.string(),arguments:l.z.optional(l.z.record(l.z.string()))})});u.TextContentSchema=l.z.object({type:l.z.literal("text"),text:l.z.string(),_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.ImageContentSchema=l.z.object({type:l.z.literal("image"),data:bs,mimeType:l.z.string(),_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.AudioContentSchema=l.z.object({type:l.z.literal("audio"),data:bs,mimeType:l.z.string(),_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.EmbeddedResourceSchema=l.z.object({type:l.z.literal("resource"),resource:l.z.union([u.TextResourceContentsSchema,u.BlobResourceContentsSchema]),_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.ResourceLinkSchema=u.ResourceSchema.extend({type:l.z.literal("resource_link")});u.ContentBlockSchema=l.z.union([u.TextContentSchema,u.ImageContentSchema,u.AudioContentSchema,u.ResourceLinkSchema,u.EmbeddedResourceSchema]);u.PromptMessageSchema=l.z.object({role:l.z.enum(["user","assistant"]),content:u.ContentBlockSchema}).passthrough();u.GetPromptResultSchema=u.ResultSchema.extend({description:l.z.optional(l.z.string()),messages:l.z.array(u.PromptMessageSchema)});u.PromptListChangedNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/prompts/list_changed")});u.ToolAnnotationsSchema=l.z.object({title:l.z.optional(l.z.string()),readOnlyHint:l.z.optional(l.z.boolean()),destructiveHint:l.z.optional(l.z.boolean()),idempotentHint:l.z.optional(l.z.boolean()),openWorldHint:l.z.optional(l.z.boolean())}).passthrough();u.ToolSchema=u.BaseMetadataSchema.extend({description:l.z.optional(l.z.string()),inputSchema:l.z.object({type:l.z.literal("object"),properties:l.z.optional(l.z.object({}).passthrough()),required:l.z.optional(l.z.array(l.z.string()))}).passthrough(),outputSchema:l.z.optional(l.z.object({type:l.z.literal("object"),properties:l.z.optional(l.z.object({}).passthrough()),required:l.z.optional(l.z.array(l.z.string()))}).passthrough()),annotations:l.z.optional(u.ToolAnnotationsSchema),_meta:l.z.optional(l.z.object({}).passthrough())});u.ListToolsRequestSchema=u.PaginatedRequestSchema.extend({method:l.z.literal("tools/list")});u.ListToolsResultSchema=u.PaginatedResultSchema.extend({tools:l.z.array(u.ToolSchema)});u.CallToolResultSchema=u.ResultSchema.extend({content:l.z.array(u.ContentBlockSchema).default([]),structuredContent:l.z.object({}).passthrough().optional(),isError:l.z.optional(l.z.boolean())});u.CompatibilityCallToolResultSchema=u.CallToolResultSchema.or(u.ResultSchema.extend({toolResult:l.z.unknown()}));u.CallToolRequestSchema=u.RequestSchema.extend({method:l.z.literal("tools/call"),params:Ye.extend({name:l.z.string(),arguments:l.z.optional(l.z.record(l.z.unknown()))})});u.ToolListChangedNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/tools/list_changed")});u.LoggingLevelSchema=l.z.enum(["debug","info","notice","warning","error","critical","alert","emergency"]);u.SetLevelRequestSchema=u.RequestSchema.extend({method:l.z.literal("logging/setLevel"),params:Ye.extend({level:u.LoggingLevelSchema})});u.LoggingMessageNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/message"),params:kt.extend({level:u.LoggingLevelSchema,logger:l.z.optional(l.z.string()),data:l.z.unknown()})});u.ModelHintSchema=l.z.object({name:l.z.string().optional()}).passthrough();u.ModelPreferencesSchema=l.z.object({hints:l.z.optional(l.z.array(u.ModelHintSchema)),costPriority:l.z.optional(l.z.number().min(0).max(1)),speedPriority:l.z.optional(l.z.number().min(0).max(1)),intelligencePriority:l.z.optional(l.z.number().min(0).max(1))}).passthrough();u.SamplingMessageSchema=l.z.object({role:l.z.enum(["user","assistant"]),content:l.z.union([u.TextContentSchema,u.ImageContentSchema,u.AudioContentSchema])}).passthrough();u.CreateMessageRequestSchema=u.RequestSchema.extend({method:l.z.literal("sampling/createMessage"),params:Ye.extend({messages:l.z.array(u.SamplingMessageSchema),systemPrompt:l.z.optional(l.z.string()),includeContext:l.z.optional(l.z.enum(["none","thisServer","allServers"])),temperature:l.z.optional(l.z.number()),maxTokens:l.z.number().int(),stopSequences:l.z.optional(l.z.array(l.z.string())),metadata:l.z.optional(l.z.object({}).passthrough()),modelPreferences:l.z.optional(u.ModelPreferencesSchema)})});u.CreateMessageResultSchema=u.ResultSchema.extend({model:l.z.string(),stopReason:l.z.optional(l.z.enum(["endTurn","stopSequence","maxTokens"]).or(l.z.string())),role:l.z.enum(["user","assistant"]),content:l.z.discriminatedUnion("type",[u.TextContentSchema,u.ImageContentSchema,u.AudioContentSchema])});u.BooleanSchemaSchema=l.z.object({type:l.z.literal("boolean"),title:l.z.optional(l.z.string()),description:l.z.optional(l.z.string()),default:l.z.optional(l.z.boolean())}).passthrough();u.StringSchemaSchema=l.z.object({type:l.z.literal("string"),title:l.z.optional(l.z.string()),description:l.z.optional(l.z.string()),minLength:l.z.optional(l.z.number()),maxLength:l.z.optional(l.z.number()),format:l.z.optional(l.z.enum(["email","uri","date","date-time"]))}).passthrough();u.NumberSchemaSchema=l.z.object({type:l.z.enum(["number","integer"]),title:l.z.optional(l.z.string()),description:l.z.optional(l.z.string()),minimum:l.z.optional(l.z.number()),maximum:l.z.optional(l.z.number())}).passthrough();u.EnumSchemaSchema=l.z.object({type:l.z.literal("string"),title:l.z.optional(l.z.string()),description:l.z.optional(l.z.string()),enum:l.z.array(l.z.string()),enumNames:l.z.optional(l.z.array(l.z.string()))}).passthrough();u.PrimitiveSchemaDefinitionSchema=l.z.union([u.BooleanSchemaSchema,u.StringSchemaSchema,u.NumberSchemaSchema,u.EnumSchemaSchema]);u.ElicitRequestSchema=u.RequestSchema.extend({method:l.z.literal("elicitation/create"),params:Ye.extend({message:l.z.string(),requestedSchema:l.z.object({type:l.z.literal("object"),properties:l.z.record(l.z.string(),u.PrimitiveSchemaDefinitionSchema),required:l.z.optional(l.z.array(l.z.string()))}).passthrough()})});u.ElicitResultSchema=u.ResultSchema.extend({action:l.z.enum(["accept","decline","cancel"]),content:l.z.optional(l.z.record(l.z.string(),l.z.unknown()))});u.ResourceTemplateReferenceSchema=l.z.object({type:l.z.literal("ref/resource"),uri:l.z.string()}).passthrough();u.ResourceReferenceSchema=u.ResourceTemplateReferenceSchema;u.PromptReferenceSchema=l.z.object({type:l.z.literal("ref/prompt"),name:l.z.string()}).passthrough();u.CompleteRequestSchema=u.RequestSchema.extend({method:l.z.literal("completion/complete"),params:Ye.extend({ref:l.z.union([u.PromptReferenceSchema,u.ResourceTemplateReferenceSchema]),argument:l.z.object({name:l.z.string(),value:l.z.string()}).passthrough(),context:l.z.optional(l.z.object({arguments:l.z.optional(l.z.record(l.z.string(),l.z.string()))}))})});u.CompleteResultSchema=u.ResultSchema.extend({completion:l.z.object({values:l.z.array(l.z.string()).max(100),total:l.z.optional(l.z.number().int()),hasMore:l.z.optional(l.z.boolean())}).passthrough()});u.RootSchema=l.z.object({uri:l.z.string().startsWith("file://"),name:l.z.optional(l.z.string()),_meta:l.z.optional(l.z.object({}).passthrough())}).passthrough();u.ListRootsRequestSchema=u.RequestSchema.extend({method:l.z.literal("roots/list")});u.ListRootsResultSchema=u.ResultSchema.extend({roots:l.z.array(u.RootSchema)});u.RootsListChangedNotificationSchema=u.NotificationSchema.extend({method:l.z.literal("notifications/roots/list_changed")});u.ClientRequestSchema=l.z.union([u.PingRequestSchema,u.InitializeRequestSchema,u.CompleteRequestSchema,u.SetLevelRequestSchema,u.GetPromptRequestSchema,u.ListPromptsRequestSchema,u.ListResourcesRequestSchema,u.ListResourceTemplatesRequestSchema,u.ReadResourceRequestSchema,u.SubscribeRequestSchema,u.UnsubscribeRequestSchema,u.CallToolRequestSchema,u.ListToolsRequestSchema]);u.ClientNotificationSchema=l.z.union([u.CancelledNotificationSchema,u.ProgressNotificationSchema,u.InitializedNotificationSchema,u.RootsListChangedNotificationSchema]);u.ClientResultSchema=l.z.union([u.EmptyResultSchema,u.CreateMessageResultSchema,u.ElicitResultSchema,u.ListRootsResultSchema]);u.ServerRequestSchema=l.z.union([u.PingRequestSchema,u.CreateMessageRequestSchema,u.ElicitRequestSchema,u.ListRootsRequestSchema]);u.ServerNotificationSchema=l.z.union([u.CancelledNotificationSchema,u.ProgressNotificationSchema,u.LoggingMessageNotificationSchema,u.ResourceUpdatedNotificationSchema,u.ResourceListChangedNotificationSchema,u.ToolListChangedNotificationSchema,u.PromptListChangedNotificationSchema]);u.ServerResultSchema=l.z.union([u.EmptyResultSchema,u.InitializeResultSchema,u.CompleteResultSchema,u.GetPromptResultSchema,u.ListPromptsResultSchema,u.ListResourcesResultSchema,u.ListResourceTemplatesResultSchema,u.ReadResourceResultSchema,u.CallToolResultSchema,u.ListToolsResultSchema]);var Ss=class extends Error{constructor(e,t,s){super(`MCP error ${e}: ${t}`),this.code=e,this.data=s,this.name="McpError"}};u.McpError=Ss});var _i=C(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Protocol=Tr.DEFAULT_REQUEST_TIMEOUT_MSEC=void 0;Tr.mergeCapabilities=Yc;var xe=Zt();Tr.DEFAULT_REQUEST_TIMEOUT_MSEC=6e4;var Es=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(xe.CancelledNotificationSchema,t=>{let s=this._requestHandlerAbortControllers.get(t.params.requestId);s?.abort(t.params.reason)}),this.setNotificationHandler(xe.ProgressNotificationSchema,t=>{this._onprogress(t)}),this.setRequestHandler(xe.PingRequestSchema,t=>({}))}_setupTimeout(e,t,s,r,n=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(r,t),startTime:Date.now(),timeout:t,maxTotalTimeout:s,resetTimeoutOnProgress:n,onTimeout:r})}_resetTimeout(e){let t=this._timeoutInfo.get(e);if(!t)return!1;let s=Date.now()-t.startTime;if(t.maxTotalTimeout&&s>=t.maxTotalTimeout)throw this._timeoutInfo.delete(e),new xe.McpError(xe.ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:t.maxTotalTimeout,totalElapsed:s});return clearTimeout(t.timeoutId),t.timeoutId=setTimeout(t.onTimeout,t.timeout),!0}_cleanupTimeout(e){let t=this._timeoutInfo.get(e);t&&(clearTimeout(t.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var t,s,r;this._transport=e;let n=(t=this.transport)===null||t===void 0?void 0:t.onclose;this._transport.onclose=()=>{n?.(),this._onclose()};let o=(s=this.transport)===null||s===void 0?void 0:s.onerror;this._transport.onerror=c=>{o?.(c),this._onerror(c)};let i=(r=this._transport)===null||r===void 0?void 0:r.onmessage;this._transport.onmessage=(c,d)=>{i?.(c,d),(0,xe.isJSONRPCResponse)(c)||(0,xe.isJSONRPCError)(c)?this._onresponse(c):(0,xe.isJSONRPCRequest)(c)?this._onrequest(c,d):(0,xe.isJSONRPCNotification)(c)?this._onnotification(c):this._onerror(new Error(`Unknown message type: ${JSON.stringify(c)}`))},await this._transport.start()}_onclose(){var e;let t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);let s=new xe.McpError(xe.ErrorCode.ConnectionClosed,"Connection closed");for(let r of t.values())r(s)}_onerror(e){var t;(t=this.onerror)===null||t===void 0||t.call(this,e)}_onnotification(e){var t;let s=(t=this._notificationHandlers.get(e.method))!==null&&t!==void 0?t:this.fallbackNotificationHandler;s!==void 0&&Promise.resolve().then(()=>s(e)).catch(r=>this._onerror(new Error(`Uncaught error in notification handler: ${r}`)))}_onrequest(e,t){var s,r;let n=(s=this._requestHandlers.get(e.method))!==null&&s!==void 0?s:this.fallbackRequestHandler,o=this._transport;if(n===void 0){o?.send({jsonrpc:"2.0",id:e.id,error:{code:xe.ErrorCode.MethodNotFound,message:"Method not found"}}).catch(d=>this._onerror(new Error(`Failed to send an error response: ${d}`)));return}let i=new AbortController;this._requestHandlerAbortControllers.set(e.id,i);let c={signal:i.signal,sessionId:o?.sessionId,_meta:(r=e.params)===null||r===void 0?void 0:r._meta,sendNotification:d=>this.notification(d,{relatedRequestId:e.id}),sendRequest:(d,p,v)=>this.request(d,p,{...v,relatedRequestId:e.id}),authInfo:t?.authInfo,requestId:e.id,requestInfo:t?.requestInfo};Promise.resolve().then(()=>n(e,c)).then(d=>{if(!i.signal.aborted)return o?.send({result:d,jsonrpc:"2.0",id:e.id})},d=>{var p;if(!i.signal.aborted)return o?.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(d.code)?d.code:xe.ErrorCode.InternalError,message:(p=d.message)!==null&&p!==void 0?p:"Internal error"}})}).catch(d=>this._onerror(new Error(`Failed to send response: ${d}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:t,...s}=e.params,r=Number(t),n=this._progressHandlers.get(r);if(!n){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let o=this._responseHandlers.get(r),i=this._timeoutInfo.get(r);if(i&&o&&i.resetTimeoutOnProgress)try{this._resetTimeout(r)}catch(c){o(c);return}n(s)}_onresponse(e){let t=Number(e.id),s=this._responseHandlers.get(t);if(s===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(t),this._progressHandlers.delete(t),this._cleanupTimeout(t),(0,xe.isJSONRPCResponse)(e))s(e);else{let r=new xe.McpError(e.error.code,e.error.message,e.error.data);s(r)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,t,s){let{relatedRequestId:r,resumptionToken:n,onresumptiontoken:o}=s??{};return new Promise((i,c)=>{var d,p,v,S,f,_;if(!this._transport){c(new Error("Not connected"));return}((d=this._options)===null||d===void 0?void 0:d.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(p=s?.signal)===null||p===void 0||p.throwIfAborted();let P=this._requestMessageId++,y={...e,jsonrpc:"2.0",id:P};s?.onprogress&&(this._progressHandlers.set(P,s.onprogress),y.params={...e.params,_meta:{...((v=e.params)===null||v===void 0?void 0:v._meta)||{},progressToken:P}});let I=x=>{var z;this._responseHandlers.delete(P),this._progressHandlers.delete(P),this._cleanupTimeout(P),(z=this._transport)===null||z===void 0||z.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:P,reason:String(x)}},{relatedRequestId:r,resumptionToken:n,onresumptiontoken:o}).catch(A=>this._onerror(new Error(`Failed to send cancellation: ${A}`))),c(x)};this._responseHandlers.set(P,x=>{var z;if(!(!((z=s?.signal)===null||z===void 0)&&z.aborted)){if(x instanceof Error)return c(x);try{let A=t.parse(x.result);i(A)}catch(A){c(A)}}}),(S=s?.signal)===null||S===void 0||S.addEventListener("abort",()=>{var x;I((x=s?.signal)===null||x===void 0?void 0:x.reason)});let D=(f=s?.timeout)!==null&&f!==void 0?f:Tr.DEFAULT_REQUEST_TIMEOUT_MSEC,w=()=>I(new xe.McpError(xe.ErrorCode.RequestTimeout,"Request timed out",{timeout:D}));this._setupTimeout(P,D,s?.maxTotalTimeout,w,(_=s?.resetTimeoutOnProgress)!==null&&_!==void 0?_:!1),this._transport.send(y,{relatedRequestId:r,resumptionToken:n,onresumptiontoken:o}).catch(x=>{this._cleanupTimeout(P),c(x)})})}async notification(e,t){var s,r;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((r=(s=this._options)===null||s===void 0?void 0:s.debouncedNotificationMethods)!==null&&r!==void 0?r:[]).includes(e.method)&&!e.params&&!t?.relatedRequestId){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var c;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let d={...e,jsonrpc:"2.0"};(c=this._transport)===null||c===void 0||c.send(d,t).catch(p=>this._onerror(p))});return}let i={...e,jsonrpc:"2.0"};await this._transport.send(i,t)}setRequestHandler(e,t){let s=e.shape.method.value;this.assertRequestHandlerCapability(s),this._requestHandlers.set(s,(r,n)=>Promise.resolve(t(e.parse(r),n)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,t){this._notificationHandlers.set(e.shape.method.value,s=>Promise.resolve(t(e.parse(s))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}};Tr.Protocol=Es;function Yc(a,e){return Object.entries(e).reduce((t,[s,r])=>(r&&typeof r=="object"?t[s]=t[s]?{...t[s],...r}:r:t[s]=r,t),{...a})}});var Si=C((ta,Pi)=>{(function(a,e){typeof ta=="object"&&typeof Pi<"u"?e(ta):typeof define=="function"&&define.amd?define(["exports"],e):e(a.URI=a.URI||{})})(ta,function(a){"use strict";function e(){for(var m=arguments.length,h=Array(m),g=0;g<m;g++)h[g]=arguments[g];if(h.length>1){h[0]=h[0].slice(0,-1);for(var R=h.length-1,T=1;T<R;++T)h[T]=h[T].slice(1,-1);return h[R]=h[R].slice(1),h.join("")}else return h[0]}function t(m){return"(?:"+m+")"}function s(m){return m===void 0?"undefined":m===null?"null":Object.prototype.toString.call(m).split(" ").pop().split("]").shift().toLowerCase()}function r(m){return m.toUpperCase()}function n(m){return m!=null?m instanceof Array?m:typeof m.length!="number"||m.split||m.setInterval||m.call?[m]:Array.prototype.slice.call(m):[]}function o(m,h){var g=m;if(h)for(var R in h)g[R]=h[R];return g}function i(m){var h="[A-Za-z]",g="[\\x0D]",R="[0-9]",T="[\\x22]",k=e(R,"[A-Fa-f]"),Y="[\\x0A]",ne="[\\x20]",le=t(t("%[EFef]"+k+"%"+k+k+"%"+k+k)+"|"+t("%[89A-Fa-f]"+k+"%"+k+k)+"|"+t("%"+k+k)),Re="[\\:\\/\\?\\#\\[\\]\\@]",se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ge=e(Re,se),Te=m?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ve=m?"[\\uE000-\\uF8FF]":"[]",oe=e(h,R,"[\\-\\.\\_\\~]",Te),ye=t(h+e(h,R,"[\\+\\-\\.]")+"*"),he=t(t(le+"|"+e(oe,se,"[\\:]"))+"*"),Nr=t(t("25[0-5]")+"|"+t("2[0-4]"+R)+"|"+t("1"+R+R)+"|"+t("[1-9]"+R)+"|"+R),Fe=t(t("25[0-5]")+"|"+t("2[0-4]"+R)+"|"+t("1"+R+R)+"|"+t("0?[1-9]"+R)+"|0?0?"+R),Ke=t(Fe+"\\."+Fe+"\\."+Fe+"\\."+Fe),pe=t(k+"{1,4}"),Ve=t(t(pe+"\\:"+pe)+"|"+Ke),Je=t(t(pe+"\\:")+"{6}"+Ve),ir=t("\\:\\:"+t(pe+"\\:")+"{5}"+Ve),$r=t(t(pe)+"?\\:\\:"+t(pe+"\\:")+"{4}"+Ve),dr=t(t(t(pe+"\\:")+"{0,1}"+pe)+"?\\:\\:"+t(pe+"\\:")+"{3}"+Ve),xt=t(t(t(pe+"\\:")+"{0,2}"+pe)+"?\\:\\:"+t(pe+"\\:")+"{2}"+Ve),Bt=t(t(t(pe+"\\:")+"{0,3}"+pe)+"?\\:\\:"+pe+"\\:"+Ve),Kt=t(t(t(pe+"\\:")+"{0,4}"+pe)+"?\\:\\:"+Ve),ut=t(t(t(pe+"\\:")+"{0,5}"+pe)+"?\\:\\:"+pe),lt=t(t(t(pe+"\\:")+"{0,6}"+pe)+"?\\:\\:"),fr=t([Je,ir,$r,dr,xt,Bt,Kt,ut,lt].join("|")),ct=t(t(oe+"|"+le)+"+"),ds=t(fr+"\\%25"+ct),qr=t(fr+t("\\%25|\\%(?!"+k+"{2})")+ct),gl=t("[vV]"+k+"+\\."+e(oe,se,"[\\:]")+"+"),yl=t("\\["+t(qr+"|"+fr+"|"+gl)+"\\]"),Hn=t(t(le+"|"+e(oe,se))+"*"),Ot=t(yl+"|"+Ke+"(?!"+Hn+")|"+Hn),Dt=t(R+"*"),Bn=t(t(he+"@")+"?"+Ot+t("\\:"+Dt)+"?"),zt=t(le+"|"+e(oe,se,"[\\:\\@]")),_l=t(zt+"*"),Kn=t(zt+"+"),Pl=t(t(le+"|"+e(oe,se,"[\\@]"))+"+"),hr=t(t("\\/"+_l)+"*"),dt=t("\\/"+t(Kn+hr)+"?"),fs=t(Pl+hr),Jt=t(Kn+hr),ft="(?!"+zt+")",Gp=t(hr+"|"+dt+"|"+fs+"|"+Jt+"|"+ft),ht=t(t(zt+"|"+e("[\\/\\?]",ve))+"*"),At=t(t(zt+"|[\\/\\?]")+"*"),Jn=t(t("\\/\\/"+Bn+hr)+"|"+dt+"|"+Jt+"|"+ft),Sl=t(ye+"\\:"+Jn+t("\\?"+ht)+"?"+t("\\#"+At)+"?"),bl=t(t("\\/\\/"+Bn+hr)+"|"+dt+"|"+fs+"|"+ft),El=t(bl+t("\\?"+ht)+"?"+t("\\#"+At)+"?"),Wp=t(Sl+"|"+El),Yp=t(ye+"\\:"+Jn+t("\\?"+ht)+"?"),Xp="^("+ye+")\\:"+t(t("\\/\\/("+t("("+he+")@")+"?("+Ot+")"+t("\\:("+Dt+")")+"?)")+"?("+hr+"|"+dt+"|"+Jt+"|"+ft+")")+t("\\?("+ht+")")+"?"+t("\\#("+At+")")+"?$",em="^(){0}"+t(t("\\/\\/("+t("("+he+")@")+"?("+Ot+")"+t("\\:("+Dt+")")+"?)")+"?("+hr+"|"+dt+"|"+fs+"|"+ft+")")+t("\\?("+ht+")")+"?"+t("\\#("+At+")")+"?$",rm="^("+ye+")\\:"+t(t("\\/\\/("+t("("+he+")@")+"?("+Ot+")"+t("\\:("+Dt+")")+"?)")+"?("+hr+"|"+dt+"|"+Jt+"|"+ft+")")+t("\\?("+ht+")")+"?$",tm="^"+t("\\#("+At+")")+"?$",am="^"+t("("+he+")@")+"?("+Ot+")"+t("\\:("+Dt+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",h,R,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",oe,se),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",oe,se),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",oe,se),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",oe,se),"g"),NOT_QUERY:new RegExp(e("[^\\%]",oe,se,"[\\:\\@\\/\\?]",ve),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",oe,se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",oe,se),"g"),UNRESERVED:new RegExp(oe,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",oe,ge),"g"),PCT_ENCODED:new RegExp(le,"g"),IPV4ADDRESS:new RegExp("^("+Ke+")$"),IPV6ADDRESS:new RegExp("^\\[?("+fr+")"+t(t("\\%25|\\%(?!"+k+"{2})")+"("+ct+")")+"?\\]?$")}}var c=i(!1),d=i(!0),p=function(){function m(h,g){var R=[],T=!0,k=!1,Y=void 0;try{for(var ne=h[Symbol.iterator](),le;!(T=(le=ne.next()).done)&&(R.push(le.value),!(g&&R.length===g));T=!0);}catch(Re){k=!0,Y=Re}finally{try{!T&&ne.return&&ne.return()}finally{if(k)throw Y}}return R}return function(h,g){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return m(h,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(m){if(Array.isArray(m)){for(var h=0,g=Array(m.length);h<m.length;h++)g[h]=m[h];return g}else return Array.from(m)},S=2147483647,f=36,_=1,P=26,y=38,I=700,D=72,w=128,x="-",z=/^xn--/,A=/[^\0-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=f-_,V=Math.floor,M=String.fromCharCode;function Z(m){throw new RangeError(F[m])}function O(m,h){for(var g=[],R=m.length;R--;)g[R]=h(m[R]);return g}function $(m,h){var g=m.split("@"),R="";g.length>1&&(R=g[0]+"@",m=g[1]),m=m.replace(H,".");var T=m.split("."),k=O(T,h).join(".");return R+k}function L(m){for(var h=[],g=0,R=m.length;g<R;){var T=m.charCodeAt(g++);if(T>=55296&&T<=56319&&g<R){var k=m.charCodeAt(g++);(k&64512)==56320?h.push(((T&1023)<<10)+(k&1023)+65536):(h.push(T),g--)}else h.push(T)}return h}var ce=function(h){return String.fromCodePoint.apply(String,v(h))},re=function(h){return h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:f},ae=function(h,g){return h+22+75*(h<26)-((g!=0)<<5)},X=function(h,g,R){var T=0;for(h=R?V(h/I):h>>1,h+=V(h/g);h>N*P>>1;T+=f)h=V(h/N);return V(T+(N+1)*h/(h+y))},B=function(h){var g=[],R=h.length,T=0,k=w,Y=D,ne=h.lastIndexOf(x);ne<0&&(ne=0);for(var le=0;le<ne;++le)h.charCodeAt(le)>=128&&Z("not-basic"),g.push(h.charCodeAt(le));for(var Re=ne>0?ne+1:0;Re<R;){for(var se=T,ge=1,Te=f;;Te+=f){Re>=R&&Z("invalid-input");var ve=re(h.charCodeAt(Re++));(ve>=f||ve>V((S-T)/ge))&&Z("overflow"),T+=ve*ge;var oe=Te<=Y?_:Te>=Y+P?P:Te-Y;if(ve<oe)break;var ye=f-oe;ge>V(S/ye)&&Z("overflow"),ge*=ye}var he=g.length+1;Y=X(T-se,he,se==0),V(T/he)>S-k&&Z("overflow"),k+=V(T/he),T%=he,g.splice(T++,0,k)}return String.fromCodePoint.apply(String,g)},_e=function(h){var g=[];h=L(h);var R=h.length,T=w,k=0,Y=D,ne=!0,le=!1,Re=void 0;try{for(var se=h[Symbol.iterator](),ge;!(ne=(ge=se.next()).done);ne=!0){var Te=ge.value;Te<128&&g.push(M(Te))}}catch(qr){le=!0,Re=qr}finally{try{!ne&&se.return&&se.return()}finally{if(le)throw Re}}var ve=g.length,oe=ve;for(ve&&g.push(x);oe<R;){var ye=S,he=!0,Nr=!1,Fe=void 0;try{for(var Ke=h[Symbol.iterator](),pe;!(he=(pe=Ke.next()).done);he=!0){var Ve=pe.value;Ve>=T&&Ve<ye&&(ye=Ve)}}catch(qr){Nr=!0,Fe=qr}finally{try{!he&&Ke.return&&Ke.return()}finally{if(Nr)throw Fe}}var Je=oe+1;ye-T>V((S-k)/Je)&&Z("overflow"),k+=(ye-T)*Je,T=ye;var ir=!0,$r=!1,dr=void 0;try{for(var xt=h[Symbol.iterator](),Bt;!(ir=(Bt=xt.next()).done);ir=!0){var Kt=Bt.value;if(Kt<T&&++k>S&&Z("overflow"),Kt==T){for(var ut=k,lt=f;;lt+=f){var fr=lt<=Y?_:lt>=Y+P?P:lt-Y;if(ut<fr)break;var ct=ut-fr,ds=f-fr;g.push(M(ae(fr+ct%ds,0))),ut=V(ct/ds)}g.push(M(ae(ut,0))),Y=X(k,Je,oe==ve),k=0,++oe}}}catch(qr){$r=!0,dr=qr}finally{try{!ir&&xt.return&&xt.return()}finally{if($r)throw dr}}++k,++T}return g.join("")},De=function(h){return $(h,function(g){return z.test(g)?B(g.slice(4).toLowerCase()):g})},je=function(h){return $(h,function(g){return A.test(g)?"xn--"+_e(g):g})},ie={version:"2.1.0",ucs2:{decode:L,encode:ce},decode:B,encode:_e,toASCII:je,toUnicode:De},be={};function we(m){var h=m.charCodeAt(0),g=void 0;return h<16?g="%0"+h.toString(16).toUpperCase():h<128?g="%"+h.toString(16).toUpperCase():h<2048?g="%"+(h>>6|192).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase():g="%"+(h>>12|224).toString(16).toUpperCase()+"%"+(h>>6&63|128).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase(),g}function Ne(m){for(var h="",g=0,R=m.length;g<R;){var T=parseInt(m.substr(g+1,2),16);if(T<128)h+=String.fromCharCode(T),g+=3;else if(T>=194&&T<224){if(R-g>=6){var k=parseInt(m.substr(g+4,2),16);h+=String.fromCharCode((T&31)<<6|k&63)}else h+=m.substr(g,6);g+=6}else if(T>=224){if(R-g>=9){var Y=parseInt(m.substr(g+4,2),16),ne=parseInt(m.substr(g+7,2),16);h+=String.fromCharCode((T&15)<<12|(Y&63)<<6|ne&63)}else h+=m.substr(g,9);g+=9}else h+=m.substr(g,3),g+=3}return h}function gr(m,h){function g(R){var T=Ne(R);return T.match(h.UNRESERVED)?T:R}return m.scheme&&(m.scheme=String(m.scheme).replace(h.PCT_ENCODED,g).toLowerCase().replace(h.NOT_SCHEME,"")),m.userinfo!==void 0&&(m.userinfo=String(m.userinfo).replace(h.PCT_ENCODED,g).replace(h.NOT_USERINFO,we).replace(h.PCT_ENCODED,r)),m.host!==void 0&&(m.host=String(m.host).replace(h.PCT_ENCODED,g).toLowerCase().replace(h.NOT_HOST,we).replace(h.PCT_ENCODED,r)),m.path!==void 0&&(m.path=String(m.path).replace(h.PCT_ENCODED,g).replace(m.scheme?h.NOT_PATH:h.NOT_PATH_NOSCHEME,we).replace(h.PCT_ENCODED,r)),m.query!==void 0&&(m.query=String(m.query).replace(h.PCT_ENCODED,g).replace(h.NOT_QUERY,we).replace(h.PCT_ENCODED,r)),m.fragment!==void 0&&(m.fragment=String(m.fragment).replace(h.PCT_ENCODED,g).replace(h.NOT_FRAGMENT,we).replace(h.PCT_ENCODED,r)),m}function lr(m){return m.replace(/^0*(.*)/,"$1")||"0"}function Ee(m,h){var g=m.match(h.IPV4ADDRESS)||[],R=p(g,2),T=R[1];return T?T.split(".").map(lr).join("."):m}function Pe(m,h){var g=m.match(h.IPV6ADDRESS)||[],R=p(g,3),T=R[1],k=R[2];if(T){for(var Y=T.toLowerCase().split("::").reverse(),ne=p(Y,2),le=ne[0],Re=ne[1],se=Re?Re.split(":").map(lr):[],ge=le.split(":").map(lr),Te=h.IPV4ADDRESS.test(ge[ge.length-1]),ve=Te?7:8,oe=ge.length-ve,ye=Array(ve),he=0;he<ve;++he)ye[he]=se[he]||ge[oe+he]||"";Te&&(ye[ve-1]=Ee(ye[ve-1],h));var Nr=ye.reduce(function(Je,ir,$r){if(!ir||ir==="0"){var dr=Je[Je.length-1];dr&&dr.index+dr.length===$r?dr.length++:Je.push({index:$r,length:1})}return Je},[]),Fe=Nr.sort(function(Je,ir){return ir.length-Je.length})[0],Ke=void 0;if(Fe&&Fe.length>1){var pe=ye.slice(0,Fe.index),Ve=ye.slice(Fe.index+Fe.length);Ke=pe.join(":")+"::"+Ve.join(":")}else Ke=ye.join(":");return k&&(Ke+="%"+k),Ke}else return m}var zr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ze="".match(/(){0}/)[1]===void 0;function ue(m){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},R=h.iri!==!1?d:c;h.reference==="suffix"&&(m=(h.scheme?h.scheme+":":"")+"//"+m);var T=m.match(zr);if(T){ze?(g.scheme=T[1],g.userinfo=T[3],g.host=T[4],g.port=parseInt(T[5],10),g.path=T[6]||"",g.query=T[7],g.fragment=T[8],isNaN(g.port)&&(g.port=T[5])):(g.scheme=T[1]||void 0,g.userinfo=m.indexOf("@")!==-1?T[3]:void 0,g.host=m.indexOf("//")!==-1?T[4]:void 0,g.port=parseInt(T[5],10),g.path=T[6]||"",g.query=m.indexOf("?")!==-1?T[7]:void 0,g.fragment=m.indexOf("#")!==-1?T[8]:void 0,isNaN(g.port)&&(g.port=m.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?T[4]:void 0)),g.host&&(g.host=Pe(Ee(g.host,R),R)),g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&!g.path&&g.query===void 0?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",h.reference&&h.reference!=="suffix"&&h.reference!==g.reference&&(g.error=g.error||"URI is not a "+h.reference+" reference.");var k=be[(h.scheme||g.scheme||"").toLowerCase()];if(!h.unicodeSupport&&(!k||!k.unicodeSupport)){if(g.host&&(h.domainHost||k&&k.domainHost))try{g.host=ie.toASCII(g.host.replace(R.PCT_ENCODED,Ne).toLowerCase())}catch(Y){g.error=g.error||"Host's domain name can not be converted to ASCII via punycode: "+Y}gr(g,c)}else gr(g,R);k&&k.parse&&k.parse(g,h)}else g.error=g.error||"URI can not be parsed.";return g}function yr(m,h){var g=h.iri!==!1?d:c,R=[];return m.userinfo!==void 0&&(R.push(m.userinfo),R.push("@")),m.host!==void 0&&R.push(Pe(Ee(String(m.host),g),g).replace(g.IPV6ADDRESS,function(T,k,Y){return"["+k+(Y?"%25"+Y:"")+"]"})),(typeof m.port=="number"||typeof m.port=="string")&&(R.push(":"),R.push(String(m.port))),R.length?R.join(""):void 0}var cr=/^\.\.?\//,Ar=/^\/\.(\/|$)/,jr=/^\/\.\.(\/|$)/,Ce=/^\/?(?:.|\n)*?(?=\/|$)/;function Be(m){for(var h=[];m.length;)if(m.match(cr))m=m.replace(cr,"");else if(m.match(Ar))m=m.replace(Ar,"/");else if(m.match(jr))m=m.replace(jr,"/"),h.pop();else if(m==="."||m==="..")m="";else{var g=m.match(Ce);if(g){var R=g[0];m=m.slice(R.length),h.push(R)}else throw new Error("Unexpected dot segment condition")}return h.join("")}function ke(m){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=h.iri?d:c,R=[],T=be[(h.scheme||m.scheme||"").toLowerCase()];if(T&&T.serialize&&T.serialize(m,h),m.host&&!g.IPV6ADDRESS.test(m.host)){if(h.domainHost||T&&T.domainHost)try{m.host=h.iri?ie.toUnicode(m.host):ie.toASCII(m.host.replace(g.PCT_ENCODED,Ne).toLowerCase())}catch(ne){m.error=m.error||"Host's domain name can not be converted to "+(h.iri?"Unicode":"ASCII")+" via punycode: "+ne}}gr(m,g),h.reference!=="suffix"&&m.scheme&&(R.push(m.scheme),R.push(":"));var k=yr(m,h);if(k!==void 0&&(h.reference!=="suffix"&&R.push("//"),R.push(k),m.path&&m.path.charAt(0)!=="/"&&R.push("/")),m.path!==void 0){var Y=m.path;!h.absolutePath&&(!T||!T.absolutePath)&&(Y=Be(Y)),k===void 0&&(Y=Y.replace(/^\/\//,"/%2F")),R.push(Y)}return m.query!==void 0&&(R.push("?"),R.push(m.query)),m.fragment!==void 0&&(R.push("#"),R.push(m.fragment)),R.join("")}function $e(m,h){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=arguments[3],T={};return R||(m=ue(ke(m,g),g),h=ue(ke(h,g),g)),g=g||{},!g.tolerant&&h.scheme?(T.scheme=h.scheme,T.userinfo=h.userinfo,T.host=h.host,T.port=h.port,T.path=Be(h.path||""),T.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(T.userinfo=h.userinfo,T.host=h.host,T.port=h.port,T.path=Be(h.path||""),T.query=h.query):(h.path?(h.path.charAt(0)==="/"?T.path=Be(h.path):((m.userinfo!==void 0||m.host!==void 0||m.port!==void 0)&&!m.path?T.path="/"+h.path:m.path?T.path=m.path.slice(0,m.path.lastIndexOf("/")+1)+h.path:T.path=h.path,T.path=Be(T.path)),T.query=h.query):(T.path=m.path,h.query!==void 0?T.query=h.query:T.query=m.query),T.userinfo=m.userinfo,T.host=m.host,T.port=m.port),T.scheme=m.scheme),T.fragment=h.fragment,T}function sr(m,h,g){var R=o({scheme:"null"},g);return ke($e(ue(m,R),ue(h,R),R,!0),R)}function Me(m,h){return typeof m=="string"?m=ke(ue(m,h),h):s(m)==="object"&&(m=ue(ke(m,h),h)),m}function Ht(m,h,g){return typeof m=="string"?m=ke(ue(m,g),g):s(m)==="object"&&(m=ke(m,g)),typeof h=="string"?h=ke(ue(h,g),g):s(h)==="object"&&(h=ke(h,g)),m===h}function ls(m,h){return m&&m.toString().replace(!h||!h.iri?c.ESCAPE:d.ESCAPE,we)}function rr(m,h){return m&&m.toString().replace(!h||!h.iri?c.PCT_ENCODED:d.PCT_ENCODED,Ne)}var wt={scheme:"http",domainHost:!0,parse:function(h,g){return h.host||(h.error=h.error||"HTTP URIs must have a host."),h},serialize:function(h,g){var R=String(h.scheme).toLowerCase()==="https";return(h.port===(R?443:80)||h.port==="")&&(h.port=void 0),h.path||(h.path="/"),h}},qn={scheme:"https",domainHost:wt.domainHost,parse:wt.parse,serialize:wt.serialize};function kn(m){return typeof m.secure=="boolean"?m.secure:String(m.scheme).toLowerCase()==="wss"}var Ct={scheme:"ws",domainHost:!0,parse:function(h,g){var R=h;return R.secure=kn(R),R.resourceName=(R.path||"/")+(R.query?"?"+R.query:""),R.path=void 0,R.query=void 0,R},serialize:function(h,g){if((h.port===(kn(h)?443:80)||h.port==="")&&(h.port=void 0),typeof h.secure=="boolean"&&(h.scheme=h.secure?"wss":"ws",h.secure=void 0),h.resourceName){var R=h.resourceName.split("?"),T=p(R,2),k=T[0],Y=T[1];h.path=k&&k!=="/"?k:void 0,h.query=Y,h.resourceName=void 0}return h.fragment=void 0,h}},Zn={scheme:"wss",domainHost:Ct.domainHost,parse:Ct.parse,serialize:Ct.serialize},nl={},il=!0,Ln="[A-Za-z0-9\\-\\.\\_\\~"+(il?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",nr="[0-9A-Fa-f]",ol=t(t("%[EFef]"+nr+"%"+nr+nr+"%"+nr+nr)+"|"+t("%[89A-Fa-f]"+nr+"%"+nr+nr)+"|"+t("%"+nr+nr)),ul="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ll="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",cl=e(ll,'[\\"\\\\]'),dl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",fl=new RegExp(Ln,"g"),ot=new RegExp(ol,"g"),hl=new RegExp(e("[^]",ul,"[\\.]",'[\\"]',cl),"g"),Mn=new RegExp(e("[^]",Ln,dl),"g"),pl=Mn;function cs(m){var h=Ne(m);return h.match(fl)?h:m}var Fn={scheme:"mailto",parse:function(h,g){var R=h,T=R.to=R.path?R.path.split(","):[];if(R.path=void 0,R.query){for(var k=!1,Y={},ne=R.query.split("&"),le=0,Re=ne.length;le<Re;++le){var se=ne[le].split("=");switch(se[0]){case"to":for(var ge=se[1].split(","),Te=0,ve=ge.length;Te<ve;++Te)T.push(ge[Te]);break;case"subject":R.subject=rr(se[1],g);break;case"body":R.body=rr(se[1],g);break;default:k=!0,Y[rr(se[0],g)]=rr(se[1],g);break}}k&&(R.headers=Y)}R.query=void 0;for(var oe=0,ye=T.length;oe<ye;++oe){var he=T[oe].split("@");if(he[0]=rr(he[0]),g.unicodeSupport)he[1]=rr(he[1],g).toLowerCase();else try{he[1]=ie.toASCII(rr(he[1],g).toLowerCase())}catch(Nr){R.error=R.error||"Email address's domain name can not be converted to ASCII via punycode: "+Nr}T[oe]=he.join("@")}return R},serialize:function(h,g){var R=h,T=n(h.to);if(T){for(var k=0,Y=T.length;k<Y;++k){var ne=String(T[k]),le=ne.lastIndexOf("@"),Re=ne.slice(0,le).replace(ot,cs).replace(ot,r).replace(hl,we),se=ne.slice(le+1);try{se=g.iri?ie.toUnicode(se):ie.toASCII(rr(se,g).toLowerCase())}catch(oe){R.error=R.error||"Email address's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+oe}T[k]=Re+"@"+se}R.path=T.join(",")}var ge=h.headers=h.headers||{};h.subject&&(ge.subject=h.subject),h.body&&(ge.body=h.body);var Te=[];for(var ve in ge)ge[ve]!==nl[ve]&&Te.push(ve.replace(ot,cs).replace(ot,r).replace(Mn,we)+"="+ge[ve].replace(ot,cs).replace(ot,r).replace(pl,we));return Te.length&&(R.query=Te.join("&")),R}},ml=/^([^\:]+)\:(.*)/,Vn={scheme:"urn",parse:function(h,g){var R=h.path&&h.path.match(ml),T=h;if(R){var k=g.scheme||T.scheme||"urn",Y=R[1].toLowerCase(),ne=R[2],le=k+":"+(g.nid||Y),Re=be[le];T.nid=Y,T.nss=ne,T.path=void 0,Re&&(T=Re.parse(T,g))}else T.error=T.error||"URN can not be parsed.";return T},serialize:function(h,g){var R=g.scheme||h.scheme||"urn",T=h.nid,k=R+":"+(g.nid||T),Y=be[k];Y&&(h=Y.serialize(h,g));var ne=h,le=h.nss;return ne.path=(T||g.nid)+":"+le,ne}},vl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Un={scheme:"urn:uuid",parse:function(h,g){var R=h;return R.uuid=R.nss,R.nss=void 0,!g.tolerant&&(!R.uuid||!R.uuid.match(vl))&&(R.error=R.error||"UUID is not valid."),R},serialize:function(h,g){var R=h;return R.nss=(h.uuid||"").toLowerCase(),R}};be[wt.scheme]=wt,be[qn.scheme]=qn,be[Ct.scheme]=Ct,be[Zn.scheme]=Zn,be[Fn.scheme]=Fn,be[Vn.scheme]=Vn,be[Un.scheme]=Un,a.SCHEMES=be,a.pctEncChar=we,a.pctDecChars=Ne,a.parse=ue,a.removeDotSegments=Be,a.serialize=ke,a.resolveComponents=$e,a.resolve=sr,a.normalize=Me,a.equal=Ht,a.escapeComponent=ls,a.unescapeComponent=rr,Object.defineProperty(a,"__esModule",{value:!0})})});var aa=C((gm,bi)=>{"use strict";bi.exports=function a(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,r,n;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(!a(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(r=s;r--!==0;){var o=n[r];if(!a(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}});var Ri=C((ym,Ei)=>{"use strict";Ei.exports=function(e){for(var t=0,s=e.length,r=0,n;r<s;)t++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<s&&(n=e.charCodeAt(r),(n&64512)==56320&&r++);return t}});var et=C((_m,wi)=>{"use strict";wi.exports={copy:Xc,checkDataType:Rs,checkDataTypes:ed,coerceToTypes:rd,toHash:Is,getProperty:ws,escapeQuotes:Cs,equal:aa(),ucs2length:Ri(),varOccurences:sd,varReplace:nd,schemaHasRules:id,schemaHasRulesExcept:od,schemaUnknownRules:ud,toQuotedString:Ts,getPathExpr:ld,getPath:cd,getData:hd,unescapeFragment:pd,unescapeJsonPointer:Os,escapeFragment:md,escapeJsonPointer:xs};function Xc(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function Rs(a,e,t,s){var r=s?" !== ":" === ",n=s?" || ":" && ",o=s?"!":"",i=s?"":"!";switch(a){case"null":return e+r+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+n+"typeof "+e+r+'"object"'+n+i+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+n+i+"("+e+" % 1)"+n+e+r+e+(t?n+o+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?n+o+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function ed(a,e,t){switch(a.length){case 1:return Rs(a[0],e,t,!0);default:var s="",r=Is(a);r.array&&r.object&&(s=r.null?"(":"(!"+e+" || ",s+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var n in r)s+=(s?" && ":"")+Rs(n,e,t,!0);return s}}var Ti=Is(["string","number","integer","boolean","null"]);function rd(a,e){if(Array.isArray(e)){for(var t=[],s=0;s<e.length;s++){var r=e[s];(Ti[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(Ti[e])return[e];if(a==="array"&&e==="array")return["array"]}}function Is(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var td=/^[a-z$_][a-z$_0-9]*$/i,ad=/'|\\/g;function ws(a){return typeof a=="number"?"["+a+"]":td.test(a)?"."+a:"['"+Cs(a)+"']"}function Cs(a){return a.replace(ad,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function sd(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function nd(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function id(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function od(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var s in a)if(s!=t&&e[s])return!0}function ud(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function Ts(a){return"'"+Cs(a)+"'"}function ld(a,e,t,s){var r=t?"'/' + "+e+(s?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):s?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Ii(a,r)}function cd(a,e,t){var s=Ts(t?"/"+xs(e):ws(e));return Ii(a,s)}var dd=/^\/(?:[^~]|~0|~1)*$/,fd=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hd(a,e,t){var s,r,n,o;if(a==="")return"rootData";if(a[0]=="/"){if(!dd.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,n="rootData"}else{if(o=a.match(fd),!o)throw new Error("Invalid JSON-pointer: "+a);if(s=+o[1],r=o[2],r=="#"){if(s>=e)throw new Error("Cannot access property/index "+s+" levels up, current level is "+e);return t[e-s]}if(s>e)throw new Error("Cannot access data "+s+" levels up, current level is "+e);if(n="data"+(e-s||""),!r)return n}for(var i=n,c=r.split("/"),d=0;d<c.length;d++){var p=c[d];p&&(n+=ws(Os(p)),i+=" && "+n)}return i}function Ii(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function pd(a){return Os(decodeURIComponent(a))}function md(a){return encodeURIComponent(xs(a))}function xs(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function Os(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}});var Ds=C((Pm,Ci)=>{"use strict";var vd=et();Ci.exports=gd;function gd(a){vd.copy(a,this)}});var Oi=C((Sm,xi)=>{"use strict";var Ir=xi.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var s=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};sa(e,s,r,a,"",a)};Ir.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Ir.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ir.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ir.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function sa(a,e,t,s,r,n,o,i,c,d){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,r,n,o,i,c,d);for(var p in s){var v=s[p];if(Array.isArray(v)){if(p in Ir.arrayKeywords)for(var S=0;S<v.length;S++)sa(a,e,t,v[S],r+"/"+p+"/"+S,n,r,p,s,S)}else if(p in Ir.propsKeywords){if(v&&typeof v=="object")for(var f in v)sa(a,e,t,v[f],r+"/"+p+"/"+yd(f),n,r,p,s,f)}else(p in Ir.keywords||a.allKeys&&!(p in Ir.skipKeywords))&&sa(a,e,t,v,r+"/"+p,n,r,p,s)}t(s,r,n,o,i,c,d)}}function yd(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}});var ca=C((bm,ji)=>{"use strict";var Lt=Si(),Di=aa(),ua=et(),na=Ds(),_d=Oi();ji.exports=Cr;Cr.normalizeId=wr;Cr.fullPath=ia;Cr.url=oa;Cr.ids=Rd;Cr.inlineRef=zs;Cr.schema=la;function Cr(a,e,t){var s=this._refs[t];if(typeof s=="string")if(this._refs[s])s=this._refs[s];else return Cr.call(this,a,e,s);if(s=s||this._schemas[t],s instanceof na)return zs(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var r=la.call(this,e,t),n,o,i;return r&&(n=r.schema,e=r.root,i=r.baseId),n instanceof na?o=n.validate||a.call(this,n.schema,e,void 0,i):n!==void 0&&(o=zs(n,this._opts.inlineRefs)?n:a.call(this,n,e,void 0,i)),o}function la(a,e){var t=Lt.parse(e),s=Ai(t),r=ia(this._getId(a.schema));if(Object.keys(a.schema).length===0||s!==r){var n=wr(s),o=this._refs[n];if(typeof o=="string")return Pd.call(this,a,o,t);if(o instanceof na)o.validate||this._compile(o),a=o;else if(o=this._schemas[n],o instanceof na){if(o.validate||this._compile(o),n==wr(e))return{schema:o,root:a,baseId:r};a=o}else return;if(!a.schema)return;r=ia(this._getId(a.schema))}return zi.call(this,t,r,a.schema,a)}function Pd(a,e,t){var s=la.call(this,a,e);if(s){var r=s.schema,n=s.baseId;a=s.root;var o=this._getId(r);return o&&(n=oa(n,o)),zi.call(this,t,n,r,a)}}var Sd=ua.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function zi(a,e,t,s){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),n=1;n<r.length;n++){var o=r[n];if(o){if(o=ua.unescapeFragment(o),t=t[o],t===void 0)break;var i;if(!Sd[o]&&(i=this._getId(t),i&&(e=oa(e,i)),t.$ref)){var c=oa(e,t.$ref),d=la.call(this,s,c);d&&(t=d.schema,s=d.root,e=d.baseId)}}}if(t!==void 0&&t!==s.schema)return{schema:t,root:s,baseId:e}}}var bd=ua.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function zs(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return As(a);if(e)return js(a)<=e}function As(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!As(e))return!1}else for(var s in a)if(s=="$ref"||(e=a[s],typeof e=="object"&&!As(e)))return!1;return!0}function js(a){var e=0,t;if(Array.isArray(a)){for(var s=0;s<a.length;s++)if(t=a[s],typeof t=="object"&&(e+=js(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(bd[r])e++;else if(t=a[r],typeof t=="object"&&(e+=js(t)+1),e==1/0)return 1/0}return e}function ia(a,e){e!==!1&&(a=wr(a));var t=Lt.parse(a);return Ai(t)}function Ai(a){return Lt.serialize(a).split("#")[0]+"#"}var Ed=/#\/?$/;function wr(a){return a?a.replace(Ed,""):""}function oa(a,e){return e=wr(e),Lt.resolve(a,e)}function Rd(a){var e=wr(this._getId(a)),t={"":e},s={"":ia(e,!1)},r={},n=this;return _d(a,{allKeys:!0},function(o,i,c,d,p,v,S){if(i!==""){var f=n._getId(o),_=t[d],P=s[d]+"/"+p;if(S!==void 0&&(P+="/"+(typeof S=="number"?S:ua.escapeFragment(S))),typeof f=="string"){f=_=wr(_?Lt.resolve(_,f):f);var y=n._refs[f];if(typeof y=="string"&&(y=n._refs[y]),y&&y.schema){if(!Di(o,y.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=wr(P))if(f[0]=="#"){if(r[f]&&!Di(o,r[f]))throw new Error('id "'+f+'" resolves to more than one schema');r[f]=o}else n._refs[f]=P}t[i]=_,s[i]=P}}),r}});var da=C((Em,$i)=>{"use strict";var Ns=ca();$i.exports={Validation:Ni(Td),MissingRef:Ni($s)};function Td(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}$s.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function $s(a,e,t){this.message=t||$s.message(a,e),this.missingRef=Ns.url(a,e),this.missingSchema=Ns.normalizeId(Ns.fullPath(this.missingRef))}function Ni(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}});var qs=C((Rm,qi)=>{"use strict";qi.exports=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,s=e.cmp&&function(n){return function(o){return function(i,c){var d={key:i,value:o[i]},p={key:c,value:o[c]};return n(d,p)}}}(e.cmp),r=[];return function n(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var i,c;if(Array.isArray(o)){for(c="[",i=0;i<o.length;i++)i&&(c+=","),c+=n(o[i])||"null";return c+"]"}if(o===null)return"null";if(r.indexOf(o)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=r.push(o)-1,p=Object.keys(o).sort(s&&s(o));for(c="",i=0;i<p.length;i++){var v=p[i],S=n(o[v]);S&&(c&&(c+=","),c+=JSON.stringify(v)+":"+S)}return r.splice(d,1),"{"+c+"}"}}(a)}});var ks=C((Tm,ki)=>{"use strict";ki.exports=function(e,t,s){var r="",n=e.schema.$async===!0,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var c=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(c){var d="unknown keyword: "+c;if(e.opts.strictKeywords==="log")e.logger.warn(d);else throw new Error(d)}}if(e.isTop&&(r+=" var validate = ",n&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+i+" */")+" ")),typeof e.schema=="boolean"||!(o||e.schema.$ref)){var t="false schema",p=e.level,v=e.dataLevel,S=e.schema[t],f=e.schemaPath+e.util.getProperty(t),_=e.errSchemaPath+"/"+t,z=!e.opts.allErrors,F,P="data"+(v||""),x="valid"+p;if(e.schema===!1){e.isTop?z=!0:r+=" var "+x+" = false; ";var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var I=r;r=y.pop(),!e.compositeRule&&z?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+x+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var D=e.isTop,p=e.level=0,v=e.dataLevel=0,P="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var p=e.level,v=e.dataLevel,P="data"+(v||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),n&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+p+" = errors;"}var x="valid"+p,z=!e.opts.allErrors,A="",H="",F,N=e.schema.type,V=Array.isArray(N);if(N&&e.opts.nullable&&e.schema.nullable===!0&&(V?N.indexOf("null")==-1&&(N=N.concat("null")):N!="null"&&(N=[N,"null"],V=!0)),V&&N.length==1&&(N=N[0],V=!1),e.schema.$ref&&o){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),N){if(e.opts.coerceTypes)var M=e.util.coerceToTypes(e.opts.coerceTypes,N);var Z=e.RULES.types[N];if(M||V||Z===!0||Z&&!Ce(Z)){var f=e.schemaPath+".type",_=e.errSchemaPath+"/type",f=e.schemaPath+".type",_=e.errSchemaPath+"/type",O=V?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[O](N,P,e.opts.strictNumbers,!0)+") { ",M){var $="dataType"+p,L="coerced"+p;r+=" var "+$+" = typeof "+P+"; var "+L+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+$+" == 'object' && Array.isArray("+P+") && "+P+".length == 1) { "+P+" = "+P+"[0]; "+$+" = typeof "+P+"; if ("+e.util.checkDataType(e.schema.type,P,e.opts.strictNumbers)+") "+L+" = "+P+"; } "),r+=" if ("+L+" !== undefined) ; ";var ce=M;if(ce)for(var re,ae=-1,X=ce.length-1;ae<X;)re=ce[ae+=1],re=="string"?r+=" else if ("+$+" == 'number' || "+$+" == 'boolean') "+L+" = '' + "+P+"; else if ("+P+" === null) "+L+" = ''; ":re=="number"||re=="integer"?(r+=" else if ("+$+" == 'boolean' || "+P+" === null || ("+$+" == 'string' && "+P+" && "+P+" == +"+P+" ",re=="integer"&&(r+=" && !("+P+" % 1)"),r+=")) "+L+" = +"+P+"; "):re=="boolean"?r+=" else if ("+P+" === 'false' || "+P+" === 0 || "+P+" === null) "+L+" = false; else if ("+P+" === 'true' || "+P+" === 1) "+L+" = true; ":re=="null"?r+=" else if ("+P+" === '' || "+P+" === 0 || "+P+" === false) "+L+" = null; ":e.opts.coerceTypes=="array"&&re=="array"&&(r+=" else if ("+$+" == 'string' || "+$+" == 'number' || "+$+" == 'boolean' || "+P+" == null) "+L+" = ["+P+"]; ");r+=" else {   ";var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",V?r+=""+N.join(","):r+=""+N,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",V?r+=""+N.join(","):r+=""+N,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var I=r;r=y.pop(),!e.compositeRule&&z?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+L+" !== undefined) {  ";var B=v?"data"+(v-1||""):"parentData",_e=v?e.dataPathArr[v]:"parentDataProperty";r+=" "+P+" = "+L+"; ",v||(r+="if ("+B+" !== undefined)"),r+=" "+B+"["+_e+"] = "+L+"; } "}else{var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",V?r+=""+N.join(","):r+=""+N,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",V?r+=""+N.join(","):r+=""+N,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var I=r;r=y.pop(),!e.compositeRule&&z?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",z&&(r+=" } if (errors === ",D?r+="0":r+="errs_"+p,r+=") { ",H+="}");else{var De=e.RULES;if(De){for(var Z,je=-1,ie=De.length-1;je<ie;)if(Z=De[je+=1],Ce(Z)){if(Z.type&&(r+=" if ("+e.util.checkDataType(Z.type,P,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(Z.type=="object"&&e.schema.properties){var S=e.schema.properties,be=Object.keys(S),we=be;if(we)for(var Ne,gr=-1,lr=we.length-1;gr<lr;){Ne=we[gr+=1];var Ee=S[Ne];if(Ee.default!==void 0){var Pe=P+e.util.getProperty(Ne);if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+Pe;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else r+=" if ("+Pe+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Pe+" === null || "+Pe+" === '' "),r+=" ) "+Pe+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(Ee.default)+" ":r+=" "+JSON.stringify(Ee.default)+" ",r+="; "}}}else if(Z.type=="array"&&Array.isArray(e.schema.items)){var zr=e.schema.items;if(zr){for(var Ee,ae=-1,ze=zr.length-1;ae<ze;)if(Ee=zr[ae+=1],Ee.default!==void 0){var Pe=P+"["+ae+"]";if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+Pe;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else r+=" if ("+Pe+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Pe+" === null || "+Pe+" === '' "),r+=" ) "+Pe+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(Ee.default)+" ":r+=" "+JSON.stringify(Ee.default)+" ",r+="; "}}}}var ue=Z.rules;if(ue){for(var yr,cr=-1,Ar=ue.length-1;cr<Ar;)if(yr=ue[cr+=1],Be(yr)){var jr=yr.code(e,yr.keyword,Z.type);jr&&(r+=" "+jr+" ",z&&(A+="}"))}}if(z&&(r+=" "+A+" ",A=""),Z.type&&(r+=" } ",N&&N===Z.type&&!M)){r+=" else { ";var f=e.schemaPath+".type",_=e.errSchemaPath+"/type",y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",V?r+=""+N.join(","):r+=""+N,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",V?r+=""+N.join(","):r+=""+N,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var I=r;r=y.pop(),!e.compositeRule&&z?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}z&&(r+=" if (errors === ",D?r+="0":r+="errs_"+p,r+=") { ",H+="}")}}}z&&(r+=" "+H+" "),D?(n?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+x+" = errors === errs_"+p+";";function Ce($e){for(var sr=$e.rules,Me=0;Me<sr.length;Me++)if(Be(sr[Me]))return!0}function Be($e){return e.schema[$e.keyword]!==void 0||$e.implements&&ke($e)}function ke($e){for(var sr=$e.implements,Me=0;Me<sr.length;Me++)if(e.schema[sr[Me]]!==void 0)return!0}return r}});var Vi=C((Im,Fi)=>{"use strict";var fa=ca(),pa=et(),Li=da(),Id=qs(),Zi=ks(),wd=pa.ucs2length,Cd=aa(),xd=Li.Validation;Fi.exports=Zs;function Zs(a,e,t,s){var r=this,n=this._opts,o=[void 0],i={},c=[],d={},p=[],v={},S=[];e=e||{schema:a,refVal:o,refs:i};var f=Od.call(this,a,e,s),_=this._compilations[f.index];if(f.compiling)return _.callValidate=w;var P=this._formats,y=this.RULES;try{var I=x(a,e,t,s);_.validate=I;var D=_.callValidate;return D&&(D.schema=I.schema,D.errors=null,D.refs=I.refs,D.refVal=I.refVal,D.root=I.root,D.$async=I.$async,n.sourceCode&&(D.source=I.source)),I}finally{Dd.call(this,a,e,s)}function w(){var O=_.validate,$=O.apply(this,arguments);return w.errors=O.errors,$}function x(O,$,L,ce){var re=!$||$&&$.schema==O;if($.schema!=e.schema)return Zs.call(r,O,$,L,ce);var ae=O.$async===!0,X=Zi({isTop:!0,schema:O,isRoot:re,baseId:ce,root:$,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Li.MissingRef,RULES:y,validate:Zi,util:pa,resolve:fa,resolveRef:z,usePattern:V,useDefault:M,useCustomRule:Z,opts:n,formats:P,logger:r.logger,self:r});X=ha(o,jd)+ha(c,zd)+ha(p,Ad)+ha(S,Nd)+X,n.processCode&&(X=n.processCode(X,O));var B;try{var _e=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",X);B=_e(r,y,P,e,o,p,S,Cd,wd,xd),o[0]=B}catch(De){throw r.logger.error("Error compiling schema, function code:",X),De}return B.schema=O,B.errors=null,B.refs=i,B.refVal=o,B.root=re?B:$,ae&&(B.$async=!0),n.sourceCode===!0&&(B.source={code:X,patterns:c,defaults:p}),B}function z(O,$,L){$=fa.url(O,$);var ce=i[$],re,ae;if(ce!==void 0)return re=o[ce],ae="refVal["+ce+"]",N(re,ae);if(!L&&e.refs){var X=e.refs[$];if(X!==void 0)return re=e.refVal[X],ae=A($,re),N(re,ae)}ae=A($);var B=fa.call(r,x,e,$);if(B===void 0){var _e=t&&t[$];_e&&(B=fa.inlineRef(_e,n.inlineRefs)?_e:Zs.call(r,_e,e,t,O))}if(B===void 0)H($);else return F($,B),N(B,ae)}function A(O,$){var L=o.length;return o[L]=$,i[O]=L,"refVal"+L}function H(O){delete i[O]}function F(O,$){var L=i[O];o[L]=$}function N(O,$){return typeof O=="object"||typeof O=="boolean"?{code:$,schema:O,inline:!0}:{code:$,$async:O&&!!O.$async}}function V(O){var $=d[O];return $===void 0&&($=d[O]=c.length,c[$]=O),"pattern"+$}function M(O){switch(typeof O){case"boolean":case"number":return""+O;case"string":return pa.toQuotedString(O);case"object":if(O===null)return"null";var $=Id(O),L=v[$];return L===void 0&&(L=v[$]=p.length,p[L]=O),"default"+L}}function Z(O,$,L,ce){if(r._opts.validateSchema!==!1){var re=O.definition.dependencies;if(re&&!re.every(function(we){return Object.prototype.hasOwnProperty.call(L,we)}))throw new Error("parent schema must have all required keywords: "+re.join(","));var ae=O.definition.validateSchema;if(ae){var X=ae($);if(!X){var B="keyword schema is invalid: "+r.errorsText(ae.errors);if(r._opts.validateSchema=="log")r.logger.error(B);else throw new Error(B)}}}var _e=O.definition.compile,De=O.definition.inline,je=O.definition.macro,ie;if(_e)ie=_e.call(r,$,L,ce);else if(je)ie=je.call(r,$,L,ce),n.validateSchema!==!1&&r.validateSchema(ie,!0);else if(De)ie=De.call(r,ce,O.keyword,$,L);else if(ie=O.definition.validate,!ie)return;if(ie===void 0)throw new Error('custom keyword "'+O.keyword+'"failed to compile');var be=S.length;return S[be]=ie,{code:"customRule"+be,validate:ie}}}function Od(a,e,t){var s=Mi.call(this,a,e,t);return s>=0?{index:s,compiling:!0}:(s=this._compilations.length,this._compilations[s]={schema:a,root:e,baseId:t},{index:s,compiling:!1})}function Dd(a,e,t){var s=Mi.call(this,a,e,t);s>=0&&this._compilations.splice(s,1)}function Mi(a,e,t){for(var s=0;s<this._compilations.length;s++){var r=this._compilations[s];if(r.schema==a&&r.root==e&&r.baseId==t)return s}return-1}function zd(a,e){return"var pattern"+a+" = new RegExp("+pa.toQuotedString(e[a])+");"}function Ad(a){return"var default"+a+" = defaults["+a+"];"}function jd(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function Nd(a){return"var customRule"+a+" = customRules["+a+"];"}function ha(a,e){if(!a.length)return"";for(var t="",s=0;s<a.length;s++)t+=e(s,a);return t}});var Hi=C((wm,Ui)=>{"use strict";var ma=Ui.exports=function(){this._cache={}};ma.prototype.put=function(e,t){this._cache[e]=t};ma.prototype.get=function(e){return this._cache[e]};ma.prototype.del=function(e){delete this._cache[e]};ma.prototype.clear=function(){this._cache={}}});var ao=C((Cm,to)=>{"use strict";var $d=et(),qd=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,kd=[0,31,28,31,30,31,30,31,31,30,31,30,31],Zd=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Bi=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Ld=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Md=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ki=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Ji=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Qi=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Gi=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Wi=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Yi=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;to.exports=va;function va(a){return a=a=="full"?"full":"fast",$d.copy(va[a])}va.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Ki,url:Ji,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Bi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:ro,uuid:Qi,"json-pointer":Gi,"json-pointer-uri-fragment":Wi,"relative-json-pointer":Yi};va.full={date:Xi,time:eo,"date-time":Ud,uri:Bd,"uri-reference":Md,"uri-template":Ki,url:Ji,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Bi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:ro,uuid:Qi,"json-pointer":Gi,"json-pointer-uri-fragment":Wi,"relative-json-pointer":Yi};function Fd(a){return a%4===0&&(a%100!==0||a%400===0)}function Xi(a){var e=a.match(qd);if(!e)return!1;var t=+e[1],s=+e[2],r=+e[3];return s>=1&&s<=12&&r>=1&&r<=(s==2&&Fd(t)?29:kd[s])}function eo(a,e){var t=a.match(Zd);if(!t)return!1;var s=t[1],r=t[2],n=t[3],o=t[5];return(s<=23&&r<=59&&n<=59||s==23&&r==59&&n==60)&&(!e||o)}var Vd=/t|\s/i;function Ud(a){var e=a.split(Vd);return e.length==2&&Xi(e[0])&&eo(e[1],!0)}var Hd=/\/|:/;function Bd(a){return Hd.test(a)&&Ld.test(a)}var Kd=/[^\\]\\Z/;function ro(a){if(Kd.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}});var no=C((xm,so)=>{"use strict";so.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,p="data"+(o||""),v="valid"+n,S,f;if(i=="#"||i=="#/")e.isRoot?(S=e.async,f="validate"):(S=e.root.schema.$async===!0,f="root.refVal[0]");else{var _=e.resolveRef(e.baseId,i,e.isRoot);if(_===void 0){var P=e.MissingRefError.message(e.baseId,i);if(e.opts.missingRefs=="fail"){e.logger.error(P);var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(i)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(i)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(i)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var I=r;r=y.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(P),d&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,i,P)}else if(_.inline){var D=e.util.copy(e);D.level++;var w="valid"+D.level;D.schema=_.schema,D.schemaPath="",D.errSchemaPath=i;var x=e.validate(D).replace(/validate\.schema/g,_.code);r+=" "+x+" ",d&&(r+=" if ("+w+") { ")}else S=_.$async===!0||e.async&&_.$async!==!1,f=_.code}if(f){var y=y||[];y.push(r),r="",e.opts.passContext?r+=" "+f+".call(this, ":r+=" "+f+"( ",r+=" "+p+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var z=o?"data"+(o-1||""):"parentData",A=o?e.dataPathArr[o]:"parentDataProperty";r+=" , "+z+" , "+A+", rootData)  ";var H=r;if(r=y.pop(),S){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(r+=" var "+v+"; "),r+=" try { await "+H+"; ",d&&(r+=" "+v+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(r+=" "+v+" = false; "),r+=" } ",d&&(r+=" if ("+v+") { ")}else r+=" if (!"+H+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",d&&(r+=" else { ")}return r}});var oo=C((Om,io)=>{"use strict";io.exports=function(e,t,s){var r=" ",n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d=e.util.copy(e),p="";d.level++;var v="valid"+d.level,S=d.baseId,f=!0,_=n;if(_)for(var P,y=-1,I=_.length-1;y<I;)P=_[y+=1],(e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all))&&(f=!1,d.schema=P,d.schemaPath=o+"["+y+"]",d.errSchemaPath=i+"/"+y,r+="  "+e.validate(d)+" ",d.baseId=S,c&&(r+=" if ("+v+") { ",p+="}"));return c&&(f?r+=" if (true) { ":r+=" "+p.slice(0,-1)+" "),r}});var lo=C((Dm,uo)=>{"use strict";uo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f="errs__"+n,_=e.util.copy(e),P="";_.level++;var y="valid"+_.level,I=i.every(function(F){return e.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:e.util.schemaHasRules(F,e.RULES.all)});if(I){var D=_.baseId;r+=" var "+f+" = errors; var "+S+" = false;  ";var w=e.compositeRule;e.compositeRule=_.compositeRule=!0;var x=i;if(x)for(var z,A=-1,H=x.length-1;A<H;)z=x[A+=1],_.schema=z,_.schemaPath=c+"["+A+"]",_.errSchemaPath=d+"/"+A,r+="  "+e.validate(_)+" ",_.baseId=D,r+=" "+S+" = "+S+" || "+y+"; if (!"+S+") { ",P+="}";e.compositeRule=_.compositeRule=w,r+=" "+P+" if (!"+S+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else p&&(r+=" if (true) { ");return r}});var fo=C((zm,co)=>{"use strict";co.exports=function(e,t,s){var r=" ",n=e.schema[t],o=e.errSchemaPath+"/"+t,i=!e.opts.allErrors,c=e.util.toQuotedString(n);return e.opts.$comment===!0?r+=" console.log("+c+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+c+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}});var po=C((Am,ho)=>{"use strict";ho.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f=e.opts.$data&&i&&i.$data,_;f?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",_="schema"+n):_=i,f||(r+=" var schema"+n+" = validate.schema"+c+";"),r+="var "+S+" = equal("+v+", schema"+n+"); if (!"+S+") {   ";var P=P||[];P.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { allowedValue: schema"+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var y=r;return r=P.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",p&&(r+=" else { "),r}});var vo=C((jm,mo)=>{"use strict";mo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f="errs__"+n,_=e.util.copy(e),P="";_.level++;var y="valid"+_.level,I="i"+n,D=_.dataLevel=e.dataLevel+1,w="data"+D,x=e.baseId,z=e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all);if(r+="var "+f+" = errors;var "+S+";",z){var A=e.compositeRule;e.compositeRule=_.compositeRule=!0,_.schema=i,_.schemaPath=c,_.errSchemaPath=d,r+=" var "+y+" = false; for (var "+I+" = 0; "+I+" < "+v+".length; "+I+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0);var H=v+"["+I+"]";_.dataPathArr[D]=I;var F=e.validate(_);_.baseId=x,e.util.varOccurences(F,w)<2?r+=" "+e.util.varReplace(F,w,H)+" ":r+=" var "+w+" = "+H+"; "+F+" ",r+=" if ("+y+") break; }  ",e.compositeRule=_.compositeRule=A,r+=" "+P+" if (!"+y+") {"}else r+=" if ("+v+".length == 0) {";var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var V=r;return r=N.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",z&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}});var yo=C((Nm,go)=>{"use strict";go.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="errs__"+n,f=e.util.copy(e),_="";f.level++;var P="valid"+f.level,y={},I={},D=e.opts.ownProperties;for(A in i)if(A!="__proto__"){var w=i[A],x=Array.isArray(w)?I:y;x[A]=w}r+="var "+S+" = errors;";var z=e.errorPath;r+="var missing"+n+";";for(var A in I)if(x=I[A],x.length){if(r+=" if ( "+v+e.util.getProperty(A)+" !== undefined ",D&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(A)+"') "),p){r+=" && ( ";var H=x;if(H)for(var F,N=-1,V=H.length-1;N<V;){F=H[N+=1],N&&(r+=" || ");var M=e.util.getProperty(F),Z=v+M;r+=" ( ( "+Z+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(F)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:M)+") ) "}r+=")) {  ";var O="missing"+n,$="' + "+O+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(z,O,!0):z+" + "+O);var L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { property: '"+e.util.escapeQuotes(A)+"', missingProperty: '"+$+"', depsCount: "+x.length+", deps: '"+e.util.escapeQuotes(x.length==1?x[0]:x.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",x.length==1?r+="property "+e.util.escapeQuotes(x[0]):r+="properties "+e.util.escapeQuotes(x.join(", ")),r+=" when property "+e.util.escapeQuotes(A)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var ce=r;r=L.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+ce+"]); ":r+=" validate.errors = ["+ce+"]; return false; ":r+=" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var re=x;if(re)for(var F,ae=-1,X=re.length-1;ae<X;){F=re[ae+=1];var M=e.util.getProperty(F),$=e.util.escapeQuotes(F),Z=v+M;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(z,F,e.opts.jsonPointers)),r+=" if ( "+Z+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(F)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { property: '"+e.util.escapeQuotes(A)+"', missingProperty: '"+$+"', depsCount: "+x.length+", deps: '"+e.util.escapeQuotes(x.length==1?x[0]:x.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",x.length==1?r+="property "+e.util.escapeQuotes(x[0]):r+="properties "+e.util.escapeQuotes(x.join(", ")),r+=" when property "+e.util.escapeQuotes(A)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",p&&(_+="}",r+=" else { ")}e.errorPath=z;var B=f.baseId;for(var A in y){var w=y[A];(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))&&(r+=" "+P+" = true; if ( "+v+e.util.getProperty(A)+" !== undefined ",D&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(A)+"') "),r+=") { ",f.schema=w,f.schemaPath=c+e.util.getProperty(A),f.errSchemaPath=d+"/"+e.util.escapeFragment(A),r+="  "+e.validate(f)+" ",f.baseId=B,r+=" }  ",p&&(r+=" if ("+P+") { ",_+="}"))}return p&&(r+="   "+_+" if ("+S+" == errors) {"),r}});var Po=C(($m,_o)=>{"use strict";_o.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f=e.opts.$data&&i&&i.$data,_;f?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",_="schema"+n):_=i;var P="i"+n,y="schema"+n;f||(r+=" var "+y+" = validate.schema"+c+";"),r+="var "+S+";",f&&(r+=" if (schema"+n+" === undefined) "+S+" = true; else if (!Array.isArray(schema"+n+")) "+S+" = false; else {"),r+=""+S+" = false;for (var "+P+"=0; "+P+"<"+y+".length; "+P+"++) if (equal("+v+", "+y+"["+P+"])) { "+S+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+S+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { allowedValues: schema"+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=I.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",p&&(r+=" else { "),r}});var bo=C((qm,So)=>{"use strict";So.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||"");if(e.opts.format===!1)return p&&(r+=" if (true) { "),r;var S=e.opts.$data&&i&&i.$data,f;S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i;var _=e.opts.unknownFormats,P=Array.isArray(_);if(S){var y="format"+n,I="isObject"+n,D="formatType"+n;r+=" var "+y+" = formats["+f+"]; var "+I+" = typeof "+y+" == 'object' && !("+y+" instanceof RegExp) && "+y+".validate; var "+D+" = "+I+" && "+y+".type || 'string'; if ("+I+") { ",e.async&&(r+=" var async"+n+" = "+y+".async; "),r+=" "+y+" = "+y+".validate; } if (  ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (",_!="ignore"&&(r+=" ("+f+" && !"+y+" ",P&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+y+" && "+D+" == '"+s+"' && !(typeof "+y+" == 'function' ? ",e.async?r+=" (async"+n+" ? await "+y+"("+v+") : "+y+"("+v+")) ":r+=" "+y+"("+v+") ",r+=" : "+y+".test("+v+"))))) {"}else{var y=e.formats[i];if(!y){if(_=="ignore")return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),p&&(r+=" if (true) { "),r;if(P&&_.indexOf(i)>=0)return p&&(r+=" if (true) { "),r;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var I=typeof y=="object"&&!(y instanceof RegExp)&&y.validate,D=I&&y.type||"string";if(I){var w=y.async===!0;y=y.validate}if(D!=s)return p&&(r+=" if (true) { "),r;if(w){if(!e.async)throw new Error("async format in sync schema");var x="formats"+e.util.getProperty(i)+".validate";r+=" if (!(await "+x+"("+v+"))) { "}else{r+=" if (! ";var x="formats"+e.util.getProperty(i);I&&(x+=".validate"),typeof y=="function"?r+=" "+x+"("+v+") ":r+=" "+x+".test("+v+") ",r+=") { "}}var z=z||[];z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { format:  ",S?r+=""+f:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,S?r+="' + "+f+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var A=r;return r=z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",p&&(r+=" else { "),r}});var Ro=C((km,Eo)=>{"use strict";Eo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f="errs__"+n,_=e.util.copy(e);_.level++;var P="valid"+_.level,y=e.schema.then,I=e.schema.else,D=y!==void 0&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all)),w=I!==void 0&&(e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all)),x=_.baseId;if(D||w){var z;_.createErrors=!1,_.schema=i,_.schemaPath=c,_.errSchemaPath=d,r+=" var "+f+" = errors; var "+S+" = true;  ";var A=e.compositeRule;e.compositeRule=_.compositeRule=!0,r+="  "+e.validate(_)+" ",_.baseId=x,_.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=_.compositeRule=A,D?(r+=" if ("+P+") {  ",_.schema=e.schema.then,_.schemaPath=e.schemaPath+".then",_.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(_)+" ",_.baseId=x,r+=" "+S+" = "+P+"; ",D&&w?(z="ifClause"+n,r+=" var "+z+" = 'then'; "):z="'then'",r+=" } ",w&&(r+=" else { ")):r+=" if (!"+P+") { ",w&&(_.schema=e.schema.else,_.schemaPath=e.schemaPath+".else",_.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(_)+" ",_.baseId=x,r+=" "+S+" = "+P+"; ",D&&w?(z="ifClause"+n,r+=" var "+z+" = 'else'; "):z="'else'",r+=" } "),r+=" if (!"+S+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { failingKeyword: "+z+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+z+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",p&&(r+=" else { ")}else p&&(r+=" if (true) { ");return r}});var Io=C((Zm,To)=>{"use strict";To.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f="errs__"+n,_=e.util.copy(e),P="";_.level++;var y="valid"+_.level,I="i"+n,D=_.dataLevel=e.dataLevel+1,w="data"+D,x=e.baseId;if(r+="var "+f+" = errors;var "+S+";",Array.isArray(i)){var z=e.schema.additionalItems;if(z===!1){r+=" "+S+" = "+v+".length <= "+i.length+"; ";var A=d;d=e.errSchemaPath+"/additionalItems",r+="  if (!"+S+") {   ";var H=H||[];H.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+i.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var F=r;r=H.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d=A,p&&(P+="}",r+=" else { ")}var N=i;if(N){for(var V,M=-1,Z=N.length-1;M<Z;)if(V=N[M+=1],e.opts.strictKeywords?typeof V=="object"&&Object.keys(V).length>0||V===!1:e.util.schemaHasRules(V,e.RULES.all)){r+=" "+y+" = true; if ("+v+".length > "+M+") { ";var O=v+"["+M+"]";_.schema=V,_.schemaPath=c+"["+M+"]",_.errSchemaPath=d+"/"+M,_.errorPath=e.util.getPathExpr(e.errorPath,M,e.opts.jsonPointers,!0),_.dataPathArr[D]=M;var $=e.validate(_);_.baseId=x,e.util.varOccurences($,w)<2?r+=" "+e.util.varReplace($,w,O)+" ":r+=" var "+w+" = "+O+"; "+$+" ",r+=" }  ",p&&(r+=" if ("+y+") { ",P+="}")}}if(typeof z=="object"&&(e.opts.strictKeywords?typeof z=="object"&&Object.keys(z).length>0||z===!1:e.util.schemaHasRules(z,e.RULES.all))){_.schema=z,_.schemaPath=e.schemaPath+".additionalItems",_.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+y+" = true; if ("+v+".length > "+i.length+") {  for (var "+I+" = "+i.length+"; "+I+" < "+v+".length; "+I+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0);var O=v+"["+I+"]";_.dataPathArr[D]=I;var $=e.validate(_);_.baseId=x,e.util.varOccurences($,w)<2?r+=" "+e.util.varReplace($,w,O)+" ":r+=" var "+w+" = "+O+"; "+$+" ",p&&(r+=" if (!"+y+") break; "),r+=" } }  ",p&&(r+=" if ("+y+") { ",P+="}")}}else if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){_.schema=i,_.schemaPath=c,_.errSchemaPath=d,r+="  for (var "+I+" = 0; "+I+" < "+v+".length; "+I+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0);var O=v+"["+I+"]";_.dataPathArr[D]=I;var $=e.validate(_);_.baseId=x,e.util.varOccurences($,w)<2?r+=" "+e.util.varReplace($,w,O)+" ":r+=" var "+w+" = "+O+"; "+$+" ",p&&(r+=" if (!"+y+") break; "),r+=" }"}return p&&(r+=" "+P+" if ("+f+" == errors) {"),r}});var Ls=C((Lm,wo)=>{"use strict";wo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,x,v="data"+(o||""),S=e.opts.$data&&i&&i.$data,f;S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i;var _=t=="maximum",P=_?"exclusiveMaximum":"exclusiveMinimum",y=e.schema[P],I=e.opts.$data&&y&&y.$data,D=_?"<":">",w=_?">":"<",x=void 0;if(!(S||typeof i=="number"||i===void 0))throw new Error(t+" must be number");if(!(I||y===void 0||typeof y=="number"||typeof y=="boolean"))throw new Error(P+" must be number or boolean");if(I){var z=e.util.getData(y.$data,o,e.dataPathArr),A="exclusive"+n,H="exclType"+n,F="exclIsNumber"+n,N="op"+n,V="' + "+N+" + '";r+=" var schemaExcl"+n+" = "+z+"; ",z="schemaExcl"+n,r+=" var "+A+"; var "+H+" = typeof "+z+"; if ("+H+" != 'boolean' && "+H+" != 'undefined' && "+H+" != 'number') { ";var x=P,M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(x||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+P+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Z=r;r=M.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+H+" == 'number' ? ( ("+A+" = "+f+" === undefined || "+z+" "+D+"= "+f+") ? "+v+" "+w+"= "+z+" : "+v+" "+w+" "+f+" ) : ( ("+A+" = "+z+" === true) ? "+v+" "+w+"= "+f+" : "+v+" "+w+" "+f+" ) || "+v+" !== "+v+") { var op"+n+" = "+A+" ? '"+D+"' : '"+D+"='; ",i===void 0&&(x=P,d=e.errSchemaPath+"/"+P,f=z,S=I)}else{var F=typeof y=="number",V=D;if(F&&S){var N="'"+V+"'";r+=" if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" ( "+f+" === undefined || "+y+" "+D+"= "+f+" ? "+v+" "+w+"= "+y+" : "+v+" "+w+" "+f+" ) || "+v+" !== "+v+") { "}else{F&&i===void 0?(A=!0,x=P,d=e.errSchemaPath+"/"+P,f=y,w+="="):(F&&(f=Math[_?"min":"max"](y,i)),y===(F?f:!0)?(A=!0,x=P,d=e.errSchemaPath+"/"+P,w+="="):(A=!1,V+="="));var N="'"+V+"'";r+=" if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+v+" "+w+" "+f+" || "+v+" !== "+v+") { "}}x=x||t;var M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(x||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { comparison: "+N+", limit: "+f+", exclusive: "+A+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+V+" ",S?r+="' + "+f:r+=""+f+"'"),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Z=r;return r=M.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",p&&(r+=" else { "),r}});var Ms=C((Mm,Co)=>{"use strict";Co.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,P,v="data"+(o||""),S=e.opts.$data&&i&&i.$data,f;if(S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i,!(S||typeof i=="number"))throw new Error(t+" must be number");var _=t=="maxItems"?">":"<";r+="if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+v+".length "+_+" "+f+") { ";var P=t,y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(P||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",S?r+="' + "+f+" + '":r+=""+i,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var I=r;return r=y.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r}});var Fs=C((Fm,xo)=>{"use strict";xo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,P,v="data"+(o||""),S=e.opts.$data&&i&&i.$data,f;if(S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i,!(S||typeof i=="number"))throw new Error(t+" must be number");var _=t=="maxLength"?">":"<";r+="if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),e.opts.unicode===!1?r+=" "+v+".length ":r+=" ucs2length("+v+") ",r+=" "+_+" "+f+") { ";var P=t,y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(P||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",S?r+="' + "+f+" + '":r+=""+i,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var I=r;return r=y.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r}});var Vs=C((Vm,Oo)=>{"use strict";Oo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,P,v="data"+(o||""),S=e.opts.$data&&i&&i.$data,f;if(S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i,!(S||typeof i=="number"))throw new Error(t+" must be number");var _=t=="maxProperties"?">":"<";r+="if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" Object.keys("+v+").length "+_+" "+f+") { ";var P=t,y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(P||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",S?r+="' + "+f+" + '":r+=""+i,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var I=r;return r=y.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r}});var zo=C((Um,Do)=>{"use strict";Do.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S=e.opts.$data&&i&&i.$data,f;if(S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i,!(S||typeof i=="number"))throw new Error(t+" must be number");r+="var division"+n+";if (",S&&(r+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),r+=" (division"+n+" = "+v+" / "+f+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+n+" !== parseInt(division"+n+") ",r+=" ) ",S&&(r+="  )  "),r+=" ) {   ";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { multipleOf: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",S?r+="' + "+f:r+=""+f+"'"),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var P=r;return r=_.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+P+"]); ":r+=" validate.errors = ["+P+"]; return false; ":r+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r}});var jo=C((Hm,Ao)=>{"use strict";Ao.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="errs__"+n,f=e.util.copy(e);f.level++;var _="valid"+f.level;if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=c,f.errSchemaPath=d,r+=" var "+S+" = errors;  ";var P=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var y;f.opts.allErrors&&(y=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+e.validate(f)+" ",f.createErrors=!0,y&&(f.opts.allErrors=y),e.compositeRule=f.compositeRule=P,r+=" if ("+_+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;r=I.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+S+"; if (vErrors !== null) { if ("+S+") vErrors.length = "+S+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p&&(r+=" if (false) { ");return r}});var $o=C((Bm,No)=>{"use strict";No.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f="errs__"+n,_=e.util.copy(e),P="";_.level++;var y="valid"+_.level,I=_.baseId,D="prevValid"+n,w="passingSchemas"+n;r+="var "+f+" = errors , "+D+" = false , "+S+" = false , "+w+" = null; ";var x=e.compositeRule;e.compositeRule=_.compositeRule=!0;var z=i;if(z)for(var A,H=-1,F=z.length-1;H<F;)A=z[H+=1],(e.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:e.util.schemaHasRules(A,e.RULES.all))?(_.schema=A,_.schemaPath=c+"["+H+"]",_.errSchemaPath=d+"/"+H,r+="  "+e.validate(_)+" ",_.baseId=I):r+=" var "+y+" = true; ",H&&(r+=" if ("+y+" && "+D+") { "+S+" = false; "+w+" = ["+w+", "+H+"]; } else { ",P+="}"),r+=" if ("+y+") { "+S+" = "+D+" = true; "+w+" = "+H+"; }";return e.compositeRule=_.compositeRule=x,r+=""+P+"if (!"+S+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { passingSchemas: "+w+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}});var ko=C((Km,qo)=>{"use strict";qo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S=e.opts.$data&&i&&i.$data,f;S?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+n):f=i;var _=S?"(new RegExp("+f+"))":e.usePattern(i);r+="if ( ",S&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" !"+_+".test("+v+") ) {   ";var P=P||[];P.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { pattern:  ",S?r+=""+f:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,S?r+="' + "+f+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",S?r+="validate.schema"+c:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var y=r;return r=P.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r}});var Lo=C((Jm,Zo)=>{"use strict";Zo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="errs__"+n,f=e.util.copy(e),_="";f.level++;var P="valid"+f.level,y="key"+n,I="idx"+n,D=f.dataLevel=e.dataLevel+1,w="data"+D,x="dataProperties"+n,z=Object.keys(i||{}).filter(ae),A=e.schema.patternProperties||{},H=Object.keys(A).filter(ae),F=e.schema.additionalProperties,N=z.length||H.length,V=F===!1,M=typeof F=="object"&&Object.keys(F).length,Z=e.opts.removeAdditional,O=V||M||Z,$=e.opts.ownProperties,L=e.baseId,ce=e.schema.required;if(ce&&!(e.opts.$data&&ce.$data)&&ce.length<e.opts.loopRequired)var re=e.util.toHash(ce);function ae(rr){return rr!=="__proto__"}if(r+="var "+S+" = errors;var "+P+" = true;",$&&(r+=" var "+x+" = undefined;"),O){if($?r+=" "+x+" = "+x+" || Object.keys("+v+"); for (var "+I+"=0; "+I+"<"+x+".length; "+I+"++) { var "+y+" = "+x+"["+I+"]; ":r+=" for (var "+y+" in "+v+") { ",N){if(r+=" var isAdditional"+n+" = !(false ",z.length)if(z.length>8)r+=" || validate.schema"+c+".hasOwnProperty("+y+") ";else{var X=z;if(X)for(var B,_e=-1,De=X.length-1;_e<De;)B=X[_e+=1],r+=" || "+y+" == "+e.util.toQuotedString(B)+" "}if(H.length){var je=H;if(je)for(var ie,be=-1,we=je.length-1;be<we;)ie=je[be+=1],r+=" || "+e.usePattern(ie)+".test("+y+") "}r+=" ); if (isAdditional"+n+") { "}if(Z=="all")r+=" delete "+v+"["+y+"]; ";else{var Ne=e.errorPath,gr="' + "+y+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers)),V)if(Z)r+=" delete "+v+"["+y+"]; ";else{r+=" "+P+" = false; ";var lr=d;d=e.errSchemaPath+"/additionalProperties";var Ee=Ee||[];Ee.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { additionalProperty: '"+gr+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Pe=r;r=Ee.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+Pe+"]); ":r+=" validate.errors = ["+Pe+"]; return false; ":r+=" var err = "+Pe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=lr,p&&(r+=" break; ")}else if(M)if(Z=="failing"){r+=" var "+S+" = errors;  ";var zr=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=F,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var ze=v+"["+y+"]";f.dataPathArr[D]=y;var ue=e.validate(f);f.baseId=L,e.util.varOccurences(ue,w)<2?r+=" "+e.util.varReplace(ue,w,ze)+" ":r+=" var "+w+" = "+ze+"; "+ue+" ",r+=" if (!"+P+") { errors = "+S+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+v+"["+y+"]; }  ",e.compositeRule=f.compositeRule=zr}else{f.schema=F,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var ze=v+"["+y+"]";f.dataPathArr[D]=y;var ue=e.validate(f);f.baseId=L,e.util.varOccurences(ue,w)<2?r+=" "+e.util.varReplace(ue,w,ze)+" ":r+=" var "+w+" = "+ze+"; "+ue+" ",p&&(r+=" if (!"+P+") break; ")}e.errorPath=Ne}N&&(r+=" } "),r+=" }  ",p&&(r+=" if ("+P+") { ",_+="}")}var yr=e.opts.useDefaults&&!e.compositeRule;if(z.length){var cr=z;if(cr)for(var B,Ar=-1,jr=cr.length-1;Ar<jr;){B=cr[Ar+=1];var Ce=i[B];if(e.opts.strictKeywords?typeof Ce=="object"&&Object.keys(Ce).length>0||Ce===!1:e.util.schemaHasRules(Ce,e.RULES.all)){var Be=e.util.getProperty(B),ze=v+Be,ke=yr&&Ce.default!==void 0;f.schema=Ce,f.schemaPath=c+Be,f.errSchemaPath=d+"/"+e.util.escapeFragment(B),f.errorPath=e.util.getPath(e.errorPath,B,e.opts.jsonPointers),f.dataPathArr[D]=e.util.toQuotedString(B);var ue=e.validate(f);if(f.baseId=L,e.util.varOccurences(ue,w)<2){ue=e.util.varReplace(ue,w,ze);var $e=ze}else{var $e=w;r+=" var "+w+" = "+ze+"; "}if(ke)r+=" "+ue+" ";else{if(re&&re[B]){r+=" if ( "+$e+" === undefined ",$&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(B)+"') "),r+=") { "+P+" = false; ";var Ne=e.errorPath,lr=d,sr=e.util.escapeQuotes(B);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Ne,B,e.opts.jsonPointers)),d=e.errSchemaPath+"/required";var Ee=Ee||[];Ee.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+sr+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+sr+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Pe=r;r=Ee.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+Pe+"]); ":r+=" validate.errors = ["+Pe+"]; return false; ":r+=" var err = "+Pe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=lr,e.errorPath=Ne,r+=" } else { "}else p?(r+=" if ( "+$e+" === undefined ",$&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(B)+"') "),r+=") { "+P+" = true; } else { "):(r+=" if ("+$e+" !== undefined ",$&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(B)+"') "),r+=" ) { ");r+=" "+ue+" } "}}p&&(r+=" if ("+P+") { ",_+="}")}}if(H.length){var Me=H;if(Me)for(var ie,Ht=-1,ls=Me.length-1;Ht<ls;){ie=Me[Ht+=1];var Ce=A[ie];if(e.opts.strictKeywords?typeof Ce=="object"&&Object.keys(Ce).length>0||Ce===!1:e.util.schemaHasRules(Ce,e.RULES.all)){f.schema=Ce,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),$?r+=" "+x+" = "+x+" || Object.keys("+v+"); for (var "+I+"=0; "+I+"<"+x+".length; "+I+"++) { var "+y+" = "+x+"["+I+"]; ":r+=" for (var "+y+" in "+v+") { ",r+=" if ("+e.usePattern(ie)+".test("+y+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var ze=v+"["+y+"]";f.dataPathArr[D]=y;var ue=e.validate(f);f.baseId=L,e.util.varOccurences(ue,w)<2?r+=" "+e.util.varReplace(ue,w,ze)+" ":r+=" var "+w+" = "+ze+"; "+ue+" ",p&&(r+=" if (!"+P+") break; "),r+=" } ",p&&(r+=" else "+P+" = true; "),r+=" }  ",p&&(r+=" if ("+P+") { ",_+="}")}}}return p&&(r+=" "+_+" if ("+S+" == errors) {"),r}});var Fo=C((Qm,Mo)=>{"use strict";Mo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="errs__"+n,f=e.util.copy(e),_="";f.level++;var P="valid"+f.level;if(r+="var "+S+" = errors;",e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=c,f.errSchemaPath=d;var y="key"+n,I="idx"+n,D="i"+n,w="' + "+y+" + '",x=f.dataLevel=e.dataLevel+1,z="data"+x,A="dataProperties"+n,H=e.opts.ownProperties,F=e.baseId;H&&(r+=" var "+A+" = undefined; "),H?r+=" "+A+" = "+A+" || Object.keys("+v+"); for (var "+I+"=0; "+I+"<"+A+".length; "+I+"++) { var "+y+" = "+A+"["+I+"]; ":r+=" for (var "+y+" in "+v+") { ",r+=" var startErrs"+n+" = errors; ";var N=y,V=e.compositeRule;e.compositeRule=f.compositeRule=!0;var M=e.validate(f);f.baseId=F,e.util.varOccurences(M,z)<2?r+=" "+e.util.varReplace(M,z,N)+" ":r+=" var "+z+" = "+N+"; "+M+" ",e.compositeRule=f.compositeRule=V,r+=" if (!"+P+") { for (var "+D+"=startErrs"+n+"; "+D+"<errors; "+D+"++) { vErrors["+D+"].propertyName = "+y+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { propertyName: '"+w+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+w+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),p&&(r+=" break; "),r+=" } }"}return p&&(r+=" "+_+" if ("+S+" == errors) {"),r}});var Uo=C((Gm,Vo)=>{"use strict";Vo.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f=e.opts.$data&&i&&i.$data,_;f?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",_="schema"+n):_=i;var P="schema"+n;if(!f)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var y=[],I=i;if(I)for(var D,w=-1,x=I.length-1;w<x;){D=I[w+=1];var z=e.schema.properties[D];z&&(e.opts.strictKeywords?typeof z=="object"&&Object.keys(z).length>0||z===!1:e.util.schemaHasRules(z,e.RULES.all))||(y[y.length]=D)}}else var y=i;if(f||y.length){var A=e.errorPath,H=f||y.length>=e.opts.loopRequired,F=e.opts.ownProperties;if(p)if(r+=" var missing"+n+"; ",H){f||(r+=" var "+P+" = validate.schema"+c+"; ");var N="i"+n,V="schema"+n+"["+N+"]",M="' + "+V+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(A,V,e.opts.jsonPointers)),r+=" var "+S+" = true; ",f&&(r+=" if (schema"+n+" === undefined) "+S+" = true; else if (!Array.isArray(schema"+n+")) "+S+" = false; else {"),r+=" for (var "+N+" = 0; "+N+" < "+P+".length; "+N+"++) { "+S+" = "+v+"["+P+"["+N+"]] !== undefined ",F&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", "+P+"["+N+"]) "),r+="; if (!"+S+") break; } ",f&&(r+="  }  "),r+="  if (!"+S+") {   ";var Z=Z||[];Z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+M+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+M+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var O=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var $=y;if($)for(var L,N=-1,ce=$.length-1;N<ce;){L=$[N+=1],N&&(r+=" || ");var re=e.util.getProperty(L),ae=v+re;r+=" ( ( "+ae+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(L)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?L:re)+") ) "}r+=") {  ";var V="missing"+n,M="' + "+V+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(A,V,!0):A+" + "+V);var Z=Z||[];Z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+M+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+M+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var O=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(H){f||(r+=" var "+P+" = validate.schema"+c+"; ");var N="i"+n,V="schema"+n+"["+N+"]",M="' + "+V+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(A,V,e.opts.jsonPointers)),f&&(r+=" if ("+P+" && !Array.isArray("+P+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+M+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+M+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+P+" !== undefined) { "),r+=" for (var "+N+" = 0; "+N+" < "+P+".length; "+N+"++) { if ("+v+"["+P+"["+N+"]] === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", "+P+"["+N+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+M+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+M+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var X=y;if(X)for(var L,B=-1,_e=X.length-1;B<_e;){L=X[B+=1];var re=e.util.getProperty(L),M=e.util.escapeQuotes(L),ae=v+re;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(A,L,e.opts.jsonPointers)),r+=" if ( "+ae+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(L)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+M+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+M+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=A}else p&&(r+=" if (true) {");return r}});var Bo=C((Wm,Ho)=>{"use strict";Ho.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v="data"+(o||""),S="valid"+n,f=e.opts.$data&&i&&i.$data,_;if(f?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",_="schema"+n):_=i,(i||f)&&e.opts.uniqueItems!==!1){f&&(r+=" var "+S+"; if ("+_+" === false || "+_+" === undefined) "+S+" = true; else if (typeof "+_+" != 'boolean') "+S+" = false; else { "),r+=" var i = "+v+".length , "+S+" = true , j; if (i > 1) { ";var P=e.schema.items&&e.schema.items.type,y=Array.isArray(P);if(!P||P=="object"||P=="array"||y&&(P.indexOf("object")>=0||P.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+v+"[i], "+v+"[j])) { "+S+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+v+"[i]; ";var I="checkDataType"+(y?"s":"");r+=" if ("+e.util[I](P,"item",e.opts.strictNumbers,!0)+") continue; ",y&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+S+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",f&&(r+="  }  "),r+=" if (!"+S+") {   ";var D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+c:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var w=r;r=D.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",p&&(r+=" else { ")}else p&&(r+=" if (true) { ");return r}});var Jo=C((Ym,Ko)=>{"use strict";Ko.exports={$ref:no(),allOf:oo(),anyOf:lo(),$comment:fo(),const:po(),contains:vo(),dependencies:yo(),enum:Po(),format:bo(),if:Ro(),items:Io(),maximum:Ls(),minimum:Ls(),maxItems:Ms(),minItems:Ms(),maxLength:Fs(),minLength:Fs(),maxProperties:Vs(),minProperties:Vs(),multipleOf:zo(),not:jo(),oneOf:$o(),pattern:ko(),properties:Lo(),propertyNames:Fo(),required:Uo(),uniqueItems:Bo(),validate:ks()}});var Wo=C((Xm,Go)=>{"use strict";var Qo=Jo(),Us=et().toHash;Go.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],s=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Us(t),e.types=Us(r),e.forEach(function(n){n.rules=n.rules.map(function(o){var i;if(typeof o=="object"){var c=Object.keys(o)[0];i=o[c],o=c,i.forEach(function(p){t.push(p),e.all[p]=!0})}t.push(o);var d=e.all[o]={keyword:o,code:Qo[o],implements:i};return d}),e.all.$comment={keyword:"$comment",code:Qo.$comment},n.type&&(e.types[n.type]=n)}),e.keywords=Us(t.concat(s)),e.custom={},e}});var eu=C((ev,Xo)=>{"use strict";var Yo=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];Xo.exports=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var s=e[t].split("/"),r=a,n;for(n=1;n<s.length;n++)r=r[s[n]];for(n=0;n<Yo.length;n++){var o=Yo[n],i=r[o];i&&(r[o]={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a}});var au=C((rv,tu)=>{"use strict";var Jd=da().MissingRef;tu.exports=ru;function ru(a,e,t){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=n(a).then(function(){var i=s._addSchema(a,void 0,e);return i.validate||o(i)});return t&&r.then(function(i){t(null,i)},t),r;function n(i){var c=i.$schema;return c&&!s.getSchema(c)?ru.call(s,{$ref:c},!0):Promise.resolve()}function o(i){try{return s._compile(i)}catch(d){if(d instanceof Jd)return c(d);throw d}function c(d){var p=d.missingSchema;if(f(p))throw new Error("Schema "+p+" is loaded but "+d.missingRef+" cannot be resolved");var v=s._loadingSchemas[p];return v||(v=s._loadingSchemas[p]=s._opts.loadSchema(p),v.then(S,S)),v.then(function(_){if(!f(p))return n(_).then(function(){f(p)||s.addSchema(_,p,void 0,e)})}).then(function(){return o(i)});function S(){delete s._loadingSchemas[p]}function f(_){return s._refs[_]||s._schemas[_]}}}}});var nu=C((tv,su)=>{"use strict";su.exports=function(e,t,s){var r=" ",n=e.level,o=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,v,S="data"+(o||""),f="valid"+n,_="errs__"+n,P=e.opts.$data&&i&&i.$data,y;P?(r+=" var schema"+n+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",y="schema"+n):y=i;var I=this,D="definition"+n,w=I.definition,x="",z,A,H,F,N;if(P&&w.$data){N="keywordValidate"+n;var V=w.validateSchema;r+=" var "+D+" = RULES.custom['"+t+"'].definition; var "+N+" = "+D+".validate;"}else{if(F=e.useCustomRule(I,i,e.schema,e),!F)return;y="validate.schema"+c,N=F.code,z=w.compile,A=w.inline,H=w.macro}var M=N+".errors",Z="i"+n,O="ruleErr"+n,$=w.async;if($&&!e.async)throw new Error("async keyword in sync schema");if(A||H||(r+=""+M+" = null;"),r+="var "+_+" = errors;var "+f+";",P&&w.$data&&(x+="}",r+=" if ("+y+" === undefined) { "+f+" = true; } else { ",V&&(x+="}",r+=" "+f+" = "+D+".validateSchema("+y+"); if ("+f+") { ")),A)w.statements?r+=" "+F.validate+" ":r+=" "+f+" = "+F.validate+"; ";else if(H){var L=e.util.copy(e),x="";L.level++;var ce="valid"+L.level;L.schema=F.validate,L.schemaPath="";var re=e.compositeRule;e.compositeRule=L.compositeRule=!0;var ae=e.validate(L).replace(/validate\.schema/g,N);e.compositeRule=L.compositeRule=re,r+=" "+ae}else{var X=X||[];X.push(r),r="",r+="  "+N+".call( ",e.opts.passContext?r+="this":r+="self",z||w.schema===!1?r+=" , "+S+" ":r+=" , "+y+" , "+S+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var B=o?"data"+(o-1||""):"parentData",_e=o?e.dataPathArr[o]:"parentDataProperty";r+=" , "+B+" , "+_e+" , rootData )  ";var De=r;r=X.pop(),w.errors===!1?(r+=" "+f+" = ",$&&(r+="await "),r+=""+De+"; "):$?(M="customErrors"+n,r+=" var "+M+" = null; try { "+f+" = await "+De+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+M+" = e.errors; else throw e; } "):r+=" "+M+" = null; "+f+" = "+De+"; "}if(w.modifying&&(r+=" if ("+B+") "+S+" = "+B+"["+_e+"];"),r+=""+x,w.valid)p&&(r+=" if (true) { ");else{r+=" if ( ",w.valid===void 0?(r+=" !",H?r+=""+ce:r+=""+f):r+=" "+!w.valid+" ",r+=") { ",v=I.keyword;var X=X||[];X.push(r),r="";var X=X||[];X.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+I.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+I.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+S+" "),r+=" } "):r+=" {} ";var je=r;r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+je+"]); ":r+=" validate.errors = ["+je+"]; return false; ":r+=" var err = "+je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ie=r;r=X.pop(),A?w.errors?w.errors!="full"&&(r+="  for (var "+Z+"="+_+"; "+Z+"<errors; "+Z+"++) { var "+O+" = vErrors["+Z+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(r+=" "+O+".schema = "+y+"; "+O+".data = "+S+"; "),r+=" } "):w.errors===!1?r+=" "+ie+" ":(r+=" if ("+_+" == errors) { "+ie+" } else {  for (var "+Z+"="+_+"; "+Z+"<errors; "+Z+"++) { var "+O+" = vErrors["+Z+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(r+=" "+O+".schema = "+y+"; "+O+".data = "+S+"; "),r+=" } } "):H?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+I.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+I.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+S+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):w.errors===!1?r+=" "+ie+" ":(r+=" if (Array.isArray("+M+")) { if (vErrors === null) vErrors = "+M+"; else vErrors = vErrors.concat("+M+"); errors = vErrors.length;  for (var "+Z+"="+_+"; "+Z+"<errors; "+Z+"++) { var "+O+" = vErrors["+Z+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(r+=" "+O+".schema = "+y+"; "+O+".data = "+S+"; "),r+=" } } else { "+ie+" } "),r+=" } ",p&&(r+=" else { ")}return r}});var Hs=C((av,Qd)=>{Qd.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var uu=C((sv,ou)=>{"use strict";var iu=Hs();ou.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:iu.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:iu.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var cu=C((nv,lu)=>{"use strict";var Gd=/^[a-z_$][a-z0-9_$-]*$/i,Wd=nu(),Yd=uu();lu.exports={add:Xd,get:ef,remove:rf,validate:Bs};function Xd(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!Gd.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var s=e.type;if(Array.isArray(s))for(var r=0;r<s.length;r++)o(a,s[r],e);else o(a,s,e);var n=e.metaSchema;n&&(e.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(n,!0))}t.keywords[a]=t.all[a]=!0;function o(i,c,d){for(var p,v=0;v<t.length;v++){var S=t[v];if(S.type==c){p=S;break}}p||(p={type:c,rules:[]},t.push(p));var f={keyword:i,definition:d,custom:!0,code:Wd,implements:d.implements};p.rules.push(f),t.custom[i]=f}return this}function ef(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function rf(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var s=e[t].rules,r=0;r<s.length;r++)if(s[r].keyword==a){s.splice(r,1);break}return this}function Bs(a,e){Bs.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(Yd,!0);if(t(a))return!0;if(Bs.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}});var du=C((iv,tf)=>{tf.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Su=C((ov,Pu)=>{"use strict";var hu=Vi(),rt=ca(),af=Hi(),pu=Ds(),sf=qs(),nf=ao(),of=Wo(),mu=eu(),vu=et();Pu.exports=Se;Se.prototype.validate=lf;Se.prototype.compile=cf;Se.prototype.addSchema=df;Se.prototype.addMetaSchema=ff;Se.prototype.validateSchema=hf;Se.prototype.getSchema=mf;Se.prototype.removeSchema=gf;Se.prototype.addFormat=Tf;Se.prototype.errorsText=Rf;Se.prototype._addSchema=yf;Se.prototype._compile=_f;Se.prototype.compileAsync=au();var _a=cu();Se.prototype.addKeyword=_a.add;Se.prototype.getKeyword=_a.get;Se.prototype.removeKeyword=_a.remove;Se.prototype.validateKeyword=_a.validate;var gu=da();Se.ValidationError=gu.Validation;Se.MissingRefError=gu.MissingRef;Se.$dataMetaSchema=mu;var ya="http://json-schema.org/draft-07/schema",fu=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],uf=["/properties"];function Se(a){if(!(this instanceof Se))return new Se(a);a=this._opts=vu.copy(a)||{},Df(this),this._schemas={},this._refs={},this._fragments={},this._formats=nf(a.format),this._cache=a.cache||new af,this._loadingSchemas={},this._compilations=[],this.RULES=of(),this._getId=Pf(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=sf),this._metaOpts=Of(this),a.formats&&Cf(this),a.keywords&&xf(this),If(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),wf(this)}function lf(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var s=this._addSchema(a);t=s.validate||this._compile(s)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function cf(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function df(a,e,t,s){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,s);return this}var n=this._getId(a);if(n!==void 0&&typeof n!="string")throw new Error("schema id must be string");return e=rt.normalizeId(e||n),_u(this,e),this._schemas[e]=this._addSchema(a,t,s,!0),this}function ff(a,e,t){return this.addSchema(a,e,t,!0),this}function hf(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||pf(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(t,a);if(!s&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return s}function pf(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(ya)?ya:void 0,a._opts.defaultMeta}function mf(a){var e=yu(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return vf(this,a)}}function vf(a,e){var t=rt.schema.call(a,{schema:{}},e);if(t){var s=t.schema,r=t.root,n=t.baseId,o=hu.call(a,s,r,void 0,n);return a._fragments[e]=new pu({ref:e,fragment:!0,schema:s,root:r,baseId:n,validate:o}),o}}function yu(a,e){return e=rt.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function gf(a){if(a instanceof RegExp)return ga(this,this._schemas,a),ga(this,this._refs,a),this;switch(typeof a){case"undefined":return ga(this,this._schemas),ga(this,this._refs),this._cache.clear(),this;case"string":var e=yu(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,s=t?t(a):a;this._cache.del(s);var r=this._getId(a);r&&(r=rt.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function ga(a,e,t){for(var s in e){var r=e[s];!r.meta&&(!t||t.test(s))&&(a._cache.del(r.cacheKey),delete e[s])}}function yf(a,e,t,s){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,n=r?r(a):a,o=this._cache.get(n);if(o)return o;s=s||this._opts.addUsedSchema!==!1;var i=rt.normalizeId(this._getId(a));i&&s&&_u(this,i);var c=this._opts.validateSchema!==!1&&!e,d;c&&!(d=i&&i==rt.normalizeId(a.$schema))&&this.validateSchema(a,!0);var p=rt.ids.call(this,a),v=new pu({id:i,schema:a,localRefs:p,cacheKey:n,meta:t});return i[0]!="#"&&s&&(this._refs[i]=v),this._cache.put(n,v),c&&d&&this.validateSchema(a,!0),v}function _f(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var s;try{s=hu.call(this,a.schema,e,a.localRefs)}catch(n){throw delete a.validate,n}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=s,a.refs=s.refs,a.refVal=s.refVal,a.root=s.root,s;function r(){var n=a.validate,o=n.apply(this,arguments);return r.errors=n.errors,o}}function Pf(a){switch(a.schemaId){case"auto":return Ef;case"id":return Sf;default:return bf}}function Sf(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function bf(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function Ef(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function Rf(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,s=e.dataVar===void 0?"data":e.dataVar,r="",n=0;n<a.length;n++){var o=a[n];o&&(r+=s+o.dataPath+" "+o.message+t)}return r.slice(0,-t.length)}function Tf(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function If(a){var e;if(a._opts.$data&&(e=du(),a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=Hs();a._opts.$data&&(t=mu(t,uf)),a.addMetaSchema(t,ya,!0),a._refs["http://json-schema.org/schema"]=ya}}function wf(a){var e=a._opts.schemas;if(e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function Cf(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function xf(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function _u(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Of(a){for(var e=vu.copy(a._opts),t=0;t<fu.length;t++)delete e[fu[t]];return e}function Df(a){var e=a._opts.logger;if(e===!1)a.logger={log:Ks,warn:Ks,error:Ks};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function Ks(){}});var Eu=C(St=>{"use strict";var zf=St&&St.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(St,"__esModule",{value:!0});St.Server=void 0;var bu=_i(),He=Zt(),Af=zf(Su()),Js=class extends bu.Protocol{constructor(e,t){var s;super(t),this._serverInfo=e,this._capabilities=(s=t?.capabilities)!==null&&s!==void 0?s:{},this._instructions=t?.instructions,this.setRequestHandler(He.InitializeRequestSchema,r=>this._oninitialize(r)),this.setNotificationHandler(He.InitializedNotificationSchema,()=>{var r;return(r=this.oninitialized)===null||r===void 0?void 0:r.call(this)})}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=(0,bu.mergeCapabilities)(this._capabilities,e)}assertCapabilityForMethod(e){var t,s,r;switch(e){case"sampling/createMessage":if(!(!((t=this._clientCapabilities)===null||t===void 0)&&t.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"ping":case"initialize":break}}async _oninitialize(e){let t=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:He.SUPPORTED_PROTOCOL_VERSIONS.includes(t)?t:He.LATEST_PROTOCOL_VERSION,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},He.EmptyResultSchema)}async createMessage(e,t){return this.request({method:"sampling/createMessage",params:e},He.CreateMessageResultSchema,t)}async elicitInput(e,t){let s=await this.request({method:"elicitation/create",params:e},He.ElicitResultSchema,t);if(s.action==="accept"&&s.content)try{let r=new Af.default,n=r.compile(e.requestedSchema);if(!n(s.content))throw new He.McpError(He.ErrorCode.InvalidParams,`Elicitation response content does not match requested schema: ${r.errorsText(n.errors)}`)}catch(r){throw r instanceof He.McpError?r:new He.McpError(He.ErrorCode.InternalError,`Error validating elicitation response: ${r}`)}return s}async listRoots(e,t){return this.request({method:"roots/list",params:e},He.ListRootsResultSchema,t)}async sendLoggingMessage(e){return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};St.Server=Js});var Pa=C(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getDefaultOptions=Xe.defaultOptions=Xe.jsonDescription=Xe.ignoreOverride=void 0;Xe.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");var jf=(a,e)=>{if(e.description)try{return{...a,...JSON.parse(e.description)}}catch{}return a};Xe.jsonDescription=jf;Xe.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"};var Nf=a=>typeof a=="string"?{...Xe.defaultOptions,name:a}:{...Xe.defaultOptions,...a};Xe.getDefaultOptions=Nf});var Qs=C(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.getRefs=void 0;var $f=Pa(),qf=a=>{let e=(0,$f.getDefaultOptions)(a),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,r])=>[r._def,{def:r._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}};Sa.getRefs=qf});var xr=C(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.setResponseValueAndErrors=bt.addErrorMessage=void 0;function Ru(a,e,t,s){s?.errorMessages&&t&&(a.errorMessage={...a.errorMessage,[e]:t})}bt.addErrorMessage=Ru;function kf(a,e,t,s,r){a[e]=t,Ru(a,e,s,r)}bt.setResponseValueAndErrors=kf});var Ea=C(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.getRelativePath=void 0;var Zf=(a,e)=>{let t=0;for(;t<a.length&&t<e.length&&a[t]===e[t];t++);return[(a.length-t).toString(),...e.slice(t)].join("/")};ba.getRelativePath=Zf});var er=C(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.parseAnyDef=void 0;var Lf=Ea();function Mf(a){if(a.target!=="openAi")return{};let e=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:a.$refStrategy==="relative"?(0,Lf.getRelativePath)(e,a.currentPath):e.join("/")}}Ra.parseAnyDef=Mf});var Gs=C(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.parseArrayDef=void 0;var Ff=Rr(),Ta=xr(),Vf=Ie();function Uf(a,e){let t={type:"array"};return a.type?._def&&a.type?._def?.typeName!==Ff.ZodFirstPartyTypeKind.ZodAny&&(t.items=(0,Vf.parseDef)(a.type._def,{...e,currentPath:[...e.currentPath,"items"]})),a.minLength&&(0,Ta.setResponseValueAndErrors)(t,"minItems",a.minLength.value,a.minLength.message,e),a.maxLength&&(0,Ta.setResponseValueAndErrors)(t,"maxItems",a.maxLength.value,a.maxLength.message,e),a.exactLength&&((0,Ta.setResponseValueAndErrors)(t,"minItems",a.exactLength.value,a.exactLength.message,e),(0,Ta.setResponseValueAndErrors)(t,"maxItems",a.exactLength.value,a.exactLength.message,e)),t}Ia.parseArrayDef=Uf});var Ws=C(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.parseBigintDef=void 0;var tt=xr();function Hf(a,e){let t={type:"integer",format:"int64"};if(!a.checks)return t;for(let s of a.checks)switch(s.kind){case"min":e.target==="jsonSchema7"?s.inclusive?(0,tt.setResponseValueAndErrors)(t,"minimum",s.value,s.message,e):(0,tt.setResponseValueAndErrors)(t,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(t.exclusiveMinimum=!0),(0,tt.setResponseValueAndErrors)(t,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?(0,tt.setResponseValueAndErrors)(t,"maximum",s.value,s.message,e):(0,tt.setResponseValueAndErrors)(t,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(t.exclusiveMaximum=!0),(0,tt.setResponseValueAndErrors)(t,"maximum",s.value,s.message,e));break;case"multipleOf":(0,tt.setResponseValueAndErrors)(t,"multipleOf",s.value,s.message,e);break}return t}wa.parseBigintDef=Hf});var Ys=C(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.parseBooleanDef=void 0;function Bf(){return{type:"boolean"}}Ca.parseBooleanDef=Bf});var Oa=C(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.parseBrandedDef=void 0;var Kf=Ie();function Jf(a,e){return(0,Kf.parseDef)(a.type._def,e)}xa.parseBrandedDef=Jf});var Xs=C(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.parseCatchDef=void 0;var Qf=Ie(),Gf=(a,e)=>(0,Qf.parseDef)(a.innerType._def,e);Da.parseCatchDef=Gf});var en=C(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.parseDateDef=void 0;var Tu=xr();function Iu(a,e,t){let s=t??e.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((r,n)=>Iu(a,e,r))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Wf(a,e)}}za.parseDateDef=Iu;var Wf=(a,e)=>{let t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(let s of a.checks)switch(s.kind){case"min":(0,Tu.setResponseValueAndErrors)(t,"minimum",s.value,s.message,e);break;case"max":(0,Tu.setResponseValueAndErrors)(t,"maximum",s.value,s.message,e);break}return t}});var rn=C(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.parseDefaultDef=void 0;var Yf=Ie();function Xf(a,e){return{...(0,Yf.parseDef)(a.innerType._def,e),default:a.defaultValue()}}Aa.parseDefaultDef=Xf});var tn=C(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.parseEffectsDef=void 0;var eh=Ie(),rh=er();function th(a,e){return e.effectStrategy==="input"?(0,eh.parseDef)(a.schema._def,e):(0,rh.parseAnyDef)(e)}ja.parseEffectsDef=th});var an=C(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.parseEnumDef=void 0;function ah(a){return{type:"string",enum:Array.from(a.values)}}Na.parseEnumDef=ah});var sn=C($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.parseIntersectionDef=void 0;var wu=Ie(),sh=a=>"type"in a&&a.type==="string"?!1:"allOf"in a;function nh(a,e){let t=[(0,wu.parseDef)(a.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),(0,wu.parseDef)(a.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(n=>!!n),s=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,r=[];return t.forEach(n=>{if(sh(n))r.push(...n.allOf),n.unevaluatedProperties===void 0&&(s=void 0);else{let o=n;if("additionalProperties"in n&&n.additionalProperties===!1){let{additionalProperties:i,...c}=n;o=c}else s=void 0;r.push(o)}}),r.length?{allOf:r,...s}:void 0}$a.parseIntersectionDef=nh});var nn=C(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.parseLiteralDef=void 0;function ih(a,e){let t=typeof a.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(a.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[a.value]}:{type:t==="bigint"?"integer":t,const:a.value}}qa.parseLiteralDef=ih});var ka=C(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.parseStringDef=Oe.zodPatterns=void 0;var at=xr(),on;Oe.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(on===void 0&&(on=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),on),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function oh(a,e){let t={type:"string"};if(a.checks)for(let s of a.checks)switch(s.kind){case"min":(0,at.setResponseValueAndErrors)(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e);break;case"max":(0,at.setResponseValueAndErrors)(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":ar(t,"email",s.message,e);break;case"format:idn-email":ar(t,"idn-email",s.message,e);break;case"pattern:zod":qe(t,Oe.zodPatterns.email,s.message,e);break}break;case"url":ar(t,"uri",s.message,e);break;case"uuid":ar(t,"uuid",s.message,e);break;case"regex":qe(t,s.regex,s.message,e);break;case"cuid":qe(t,Oe.zodPatterns.cuid,s.message,e);break;case"cuid2":qe(t,Oe.zodPatterns.cuid2,s.message,e);break;case"startsWith":qe(t,RegExp(`^${un(s.value,e)}`),s.message,e);break;case"endsWith":qe(t,RegExp(`${un(s.value,e)}$`),s.message,e);break;case"datetime":ar(t,"date-time",s.message,e);break;case"date":ar(t,"date",s.message,e);break;case"time":ar(t,"time",s.message,e);break;case"duration":ar(t,"duration",s.message,e);break;case"length":(0,at.setResponseValueAndErrors)(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e),(0,at.setResponseValueAndErrors)(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"includes":{qe(t,RegExp(un(s.value,e)),s.message,e);break}case"ip":{s.version!=="v6"&&ar(t,"ipv4",s.message,e),s.version!=="v4"&&ar(t,"ipv6",s.message,e);break}case"base64url":qe(t,Oe.zodPatterns.base64url,s.message,e);break;case"jwt":qe(t,Oe.zodPatterns.jwt,s.message,e);break;case"cidr":{s.version!=="v6"&&qe(t,Oe.zodPatterns.ipv4Cidr,s.message,e),s.version!=="v4"&&qe(t,Oe.zodPatterns.ipv6Cidr,s.message,e);break}case"emoji":qe(t,Oe.zodPatterns.emoji(),s.message,e);break;case"ulid":{qe(t,Oe.zodPatterns.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{ar(t,"binary",s.message,e);break}case"contentEncoding:base64":{(0,at.setResponseValueAndErrors)(t,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{qe(t,Oe.zodPatterns.base64,s.message,e);break}}break}case"nanoid":qe(t,Oe.zodPatterns.nanoid,s.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return t}Oe.parseStringDef=oh;function un(a,e){return e.patternStrategy==="escape"?lh(a):a}var uh=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function lh(a){let e="";for(let t=0;t<a.length;t++)uh.has(a[t])||(e+="\\"),e+=a[t];return e}function ar(a,e,t,s){a.format||a.anyOf?.some(r=>r.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&s.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.anyOf.push({format:e,...t&&s.errorMessages&&{errorMessage:{format:t}}})):(0,at.setResponseValueAndErrors)(a,"format",e,t,s)}function qe(a,e,t,s){a.pattern||a.allOf?.some(r=>r.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&s.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.allOf.push({pattern:Cu(e,s),...t&&s.errorMessages&&{errorMessage:{pattern:t}}})):(0,at.setResponseValueAndErrors)(a,"pattern",Cu(e,s),t,s)}function Cu(a,e){if(!e.applyRegexFlags||!a.flags)return a.source;let t={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},s=t.i?a.source.toLowerCase():a.source,r="",n=!1,o=!1,i=!1;for(let c=0;c<s.length;c++){if(n){r+=s[c],n=!1;continue}if(t.i){if(o){if(s[c].match(/[a-z]/)){i?(r+=s[c],r+=`${s[c-2]}-${s[c]}`.toUpperCase(),i=!1):s[c+1]==="-"&&s[c+2]?.match(/[a-z]/)?(r+=s[c],i=!0):r+=`${s[c]}${s[c].toUpperCase()}`;continue}}else if(s[c].match(/[a-z]/)){r+=`[${s[c]}${s[c].toUpperCase()}]`;continue}}if(t.m){if(s[c]==="^"){r+=`(^|(?<=[\r
]))`;continue}else if(s[c]==="$"){r+=`($|(?=[\r
]))`;continue}}if(t.s&&s[c]==="."){r+=o?`${s[c]}\r
`:`[${s[c]}\r
]`;continue}r+=s[c],s[c]==="\\"?n=!0:o&&s[c]==="]"?o=!1:!o&&s[c]==="["&&(o=!0)}try{new RegExp(r)}catch{return a.source}return r}});var La=C(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.parseRecordDef=void 0;var Mt=Rr(),xu=Ie(),ch=ka(),dh=Oa(),fh=er();function hh(a,e){if(e.target,e.target==="openApi3"&&a.keyType?._def.typeName===Mt.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((s,r)=>({...s,[r]:(0,xu.parseDef)(a.valueType._def,{...e,currentPath:[...e.currentPath,"properties",r]})??(0,fh.parseAnyDef)(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};let t={type:"object",additionalProperties:(0,xu.parseDef)(a.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return t;if(a.keyType?._def.typeName===Mt.ZodFirstPartyTypeKind.ZodString&&a.keyType._def.checks?.length){let{type:s,...r}=(0,ch.parseStringDef)(a.keyType._def,e);return{...t,propertyNames:r}}else{if(a.keyType?._def.typeName===Mt.ZodFirstPartyTypeKind.ZodEnum)return{...t,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===Mt.ZodFirstPartyTypeKind.ZodBranded&&a.keyType._def.type._def.typeName===Mt.ZodFirstPartyTypeKind.ZodString&&a.keyType._def.type._def.checks?.length){let{type:s,...r}=(0,dh.parseBrandedDef)(a.keyType._def,e);return{...t,propertyNames:r}}}return t}Za.parseRecordDef=hh});var ln=C(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.parseMapDef=void 0;var Ou=Ie(),ph=La(),Du=er();function mh(a,e){if(e.mapStrategy==="record")return(0,ph.parseRecordDef)(a,e);let t=(0,Ou.parseDef)(a.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||(0,Du.parseAnyDef)(e),s=(0,Ou.parseDef)(a.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||(0,Du.parseAnyDef)(e);return{type:"array",maxItems:125,items:{type:"array",items:[t,s],minItems:2,maxItems:2}}}Ma.parseMapDef=mh});var cn=C(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.parseNativeEnumDef=void 0;function vh(a){let e=a.values,s=Object.keys(a.values).filter(n=>typeof e[e[n]]!="number").map(n=>e[n]),r=Array.from(new Set(s.map(n=>typeof n)));return{type:r.length===1?r[0]==="string"?"string":"number":["string","number"],enum:s}}Fa.parseNativeEnumDef=vh});var dn=C(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.parseNeverDef=void 0;var gh=er();function yh(a){return a.target==="openAi"?void 0:{not:(0,gh.parseAnyDef)({...a,currentPath:[...a.currentPath,"not"]})}}Va.parseNeverDef=yh});var fn=C(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.parseNullDef=void 0;function _h(a){return a.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}Ua.parseNullDef=_h});var Ha=C(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.parseUnionDef=Or.primitiveMappings=void 0;var Ph=Ie();Or.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Sh(a,e){if(e.target==="openApi3")return zu(a,e);let t=a.options instanceof Map?Array.from(a.options.values()):a.options;if(t.every(s=>s._def.typeName in Or.primitiveMappings&&(!s._def.checks||!s._def.checks.length))){let s=t.reduce((r,n)=>{let o=Or.primitiveMappings[n._def.typeName];return o&&!r.includes(o)?[...r,o]:r},[]);return{type:s.length>1?s:s[0]}}else if(t.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){let s=t.reduce((r,n)=>{let o=typeof n._def.value;switch(o){case"string":case"number":case"boolean":return[...r,o];case"bigint":return[...r,"integer"];case"object":if(n._def.value===null)return[...r,"null"];case"symbol":case"undefined":case"function":default:return r}},[]);if(s.length===t.length){let r=s.filter((n,o,i)=>i.indexOf(n)===o);return{type:r.length>1?r:r[0],enum:t.reduce((n,o)=>n.includes(o._def.value)?n:[...n,o._def.value],[])}}}else if(t.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((s,r)=>[...s,...r._def.values.filter(n=>!s.includes(n))],[])};return zu(a,e)}Or.parseUnionDef=Sh;var zu=(a,e)=>{let t=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((s,r)=>(0,Ph.parseDef)(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${r}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return t.length?{anyOf:t}:void 0}});var hn=C(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.parseNullableDef=void 0;var Au=Ie(),ju=Ha();function bh(a,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return e.target==="openApi3"?{type:ju.primitiveMappings[a.innerType._def.typeName],nullable:!0}:{type:[ju.primitiveMappings[a.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let s=(0,Au.parseDef)(a.innerType._def,{...e,currentPath:[...e.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}let t=(0,Au.parseDef)(a.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}Ba.parseNullableDef=bh});var pn=C(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.parseNumberDef=void 0;var Dr=xr();function Eh(a,e){let t={type:"number"};if(!a.checks)return t;for(let s of a.checks)switch(s.kind){case"int":t.type="integer",(0,Dr.addErrorMessage)(t,"type",s.message,e);break;case"min":e.target==="jsonSchema7"?s.inclusive?(0,Dr.setResponseValueAndErrors)(t,"minimum",s.value,s.message,e):(0,Dr.setResponseValueAndErrors)(t,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(t.exclusiveMinimum=!0),(0,Dr.setResponseValueAndErrors)(t,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?(0,Dr.setResponseValueAndErrors)(t,"maximum",s.value,s.message,e):(0,Dr.setResponseValueAndErrors)(t,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(t.exclusiveMaximum=!0),(0,Dr.setResponseValueAndErrors)(t,"maximum",s.value,s.message,e));break;case"multipleOf":(0,Dr.setResponseValueAndErrors)(t,"multipleOf",s.value,s.message,e);break}return t}Ka.parseNumberDef=Eh});var mn=C(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.parseObjectDef=void 0;var Nu=Ie();function Rh(a,e){let t=e.target==="openAi",s={type:"object",properties:{}},r=[],n=a.shape();for(let i in n){let c=n[i];if(c===void 0||c._def===void 0)continue;let d=Ih(c);d&&t&&(c._def.typeName==="ZodOptional"&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),d=!1);let p=(0,Nu.parseDef)(c._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});p!==void 0&&(s.properties[i]=p,d||r.push(i))}r.length&&(s.required=r);let o=Th(a,e);return o!==void 0&&(s.additionalProperties=o),s}Ja.parseObjectDef=Rh;function Th(a,e){if(a.catchall._def.typeName!=="ZodNever")return(0,Nu.parseDef)(a.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function Ih(a){try{return a.isOptional()}catch{return!0}}});var vn=C(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.parseOptionalDef=void 0;var $u=Ie(),qu=er(),wh=(a,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return(0,$u.parseDef)(a.innerType._def,e);let t=(0,$u.parseDef)(a.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:(0,qu.parseAnyDef)(e)},t]}:(0,qu.parseAnyDef)(e)};Qa.parseOptionalDef=wh});var gn=C(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.parsePipelineDef=void 0;var Ga=Ie(),Ch=(a,e)=>{if(e.pipeStrategy==="input")return(0,Ga.parseDef)(a.in._def,e);if(e.pipeStrategy==="output")return(0,Ga.parseDef)(a.out._def,e);let t=(0,Ga.parseDef)(a.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=(0,Ga.parseDef)(a.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,s].filter(r=>r!==void 0)}};Wa.parsePipelineDef=Ch});var yn=C(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.parsePromiseDef=void 0;var xh=Ie();function Oh(a,e){return(0,xh.parseDef)(a.type._def,e)}Ya.parsePromiseDef=Oh});var _n=C(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.parseSetDef=void 0;var ku=xr(),Dh=Ie();function zh(a,e){let s={type:"array",uniqueItems:!0,items:(0,Dh.parseDef)(a.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return a.minSize&&(0,ku.setResponseValueAndErrors)(s,"minItems",a.minSize.value,a.minSize.message,e),a.maxSize&&(0,ku.setResponseValueAndErrors)(s,"maxItems",a.maxSize.value,a.maxSize.message,e),s}Xa.parseSetDef=zh});var Sn=C(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.parseTupleDef=void 0;var Pn=Ie();function Ah(a,e){return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((t,s)=>(0,Pn.parseDef)(t._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((t,s)=>s===void 0?t:[...t,s],[]),additionalItems:(0,Pn.parseDef)(a.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((t,s)=>(0,Pn.parseDef)(t._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((t,s)=>s===void 0?t:[...t,s],[])}}es.parseTupleDef=Ah});var bn=C(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.parseUndefinedDef=void 0;var jh=er();function Nh(a){return{not:(0,jh.parseAnyDef)(a)}}rs.parseUndefinedDef=Nh});var En=C(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.parseUnknownDef=void 0;var $h=er();function qh(a){return(0,$h.parseAnyDef)(a)}ts.parseUnknownDef=qh});var Rn=C(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.parseReadonlyDef=void 0;var kh=Ie(),Zh=(a,e)=>(0,kh.parseDef)(a.innerType._def,e);as.parseReadonlyDef=Zh});var Tn=C(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.selectParser=void 0;var te=Rr(),Lh=er(),Mh=Gs(),Fh=Ws(),Vh=Ys(),Uh=Oa(),Hh=Xs(),Bh=en(),Kh=rn(),Jh=tn(),Qh=an(),Gh=sn(),Wh=nn(),Yh=ln(),Xh=cn(),ep=dn(),rp=fn(),tp=hn(),ap=pn(),sp=mn(),np=vn(),ip=gn(),op=yn(),up=La(),lp=_n(),cp=ka(),dp=Sn(),fp=bn(),hp=Ha(),pp=En(),mp=Rn(),vp=(a,e,t)=>{switch(e){case te.ZodFirstPartyTypeKind.ZodString:return(0,cp.parseStringDef)(a,t);case te.ZodFirstPartyTypeKind.ZodNumber:return(0,ap.parseNumberDef)(a,t);case te.ZodFirstPartyTypeKind.ZodObject:return(0,sp.parseObjectDef)(a,t);case te.ZodFirstPartyTypeKind.ZodBigInt:return(0,Fh.parseBigintDef)(a,t);case te.ZodFirstPartyTypeKind.ZodBoolean:return(0,Vh.parseBooleanDef)();case te.ZodFirstPartyTypeKind.ZodDate:return(0,Bh.parseDateDef)(a,t);case te.ZodFirstPartyTypeKind.ZodUndefined:return(0,fp.parseUndefinedDef)(t);case te.ZodFirstPartyTypeKind.ZodNull:return(0,rp.parseNullDef)(t);case te.ZodFirstPartyTypeKind.ZodArray:return(0,Mh.parseArrayDef)(a,t);case te.ZodFirstPartyTypeKind.ZodUnion:case te.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,hp.parseUnionDef)(a,t);case te.ZodFirstPartyTypeKind.ZodIntersection:return(0,Gh.parseIntersectionDef)(a,t);case te.ZodFirstPartyTypeKind.ZodTuple:return(0,dp.parseTupleDef)(a,t);case te.ZodFirstPartyTypeKind.ZodRecord:return(0,up.parseRecordDef)(a,t);case te.ZodFirstPartyTypeKind.ZodLiteral:return(0,Wh.parseLiteralDef)(a,t);case te.ZodFirstPartyTypeKind.ZodEnum:return(0,Qh.parseEnumDef)(a);case te.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,Xh.parseNativeEnumDef)(a);case te.ZodFirstPartyTypeKind.ZodNullable:return(0,tp.parseNullableDef)(a,t);case te.ZodFirstPartyTypeKind.ZodOptional:return(0,np.parseOptionalDef)(a,t);case te.ZodFirstPartyTypeKind.ZodMap:return(0,Yh.parseMapDef)(a,t);case te.ZodFirstPartyTypeKind.ZodSet:return(0,lp.parseSetDef)(a,t);case te.ZodFirstPartyTypeKind.ZodLazy:return()=>a.getter()._def;case te.ZodFirstPartyTypeKind.ZodPromise:return(0,op.parsePromiseDef)(a,t);case te.ZodFirstPartyTypeKind.ZodNaN:case te.ZodFirstPartyTypeKind.ZodNever:return(0,ep.parseNeverDef)(t);case te.ZodFirstPartyTypeKind.ZodEffects:return(0,Jh.parseEffectsDef)(a,t);case te.ZodFirstPartyTypeKind.ZodAny:return(0,Lh.parseAnyDef)(t);case te.ZodFirstPartyTypeKind.ZodUnknown:return(0,pp.parseUnknownDef)(t);case te.ZodFirstPartyTypeKind.ZodDefault:return(0,Kh.parseDefaultDef)(a,t);case te.ZodFirstPartyTypeKind.ZodBranded:return(0,Uh.parseBrandedDef)(a,t);case te.ZodFirstPartyTypeKind.ZodReadonly:return(0,mp.parseReadonlyDef)(a,t);case te.ZodFirstPartyTypeKind.ZodCatch:return(0,Hh.parseCatchDef)(a,t);case te.ZodFirstPartyTypeKind.ZodPipeline:return(0,ip.parsePipelineDef)(a,t);case te.ZodFirstPartyTypeKind.ZodFunction:case te.ZodFirstPartyTypeKind.ZodVoid:case te.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(s=>{})(e)}};ss.selectParser=vp});var Ie=C(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.parseDef=void 0;var gp=Pa(),yp=Tn(),_p=Ea(),Zu=er();function Lu(a,e,t=!1){let s=e.seen.get(a);if(e.override){let i=e.override?.(a,e,s,t);if(i!==gp.ignoreOverride)return i}if(s&&!t){let i=Pp(s,e);if(i!==void 0)return i}let r={def:a,path:e.currentPath,jsonSchema:void 0};e.seen.set(a,r);let n=(0,yp.selectParser)(a,a.typeName,e),o=typeof n=="function"?Lu(n(),e):n;if(o&&Sp(a,e,o),e.postProcess){let i=e.postProcess(o,a,e);return r.jsonSchema=o,i}return r.jsonSchema=o,o}ns.parseDef=Lu;var Pp=(a,e)=>{switch(e.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:(0,_p.getRelativePath)(e.currentPath,a.path)};case"none":case"seen":return a.path.length<e.currentPath.length&&a.path.every((t,s)=>e.currentPath[s]===t)||e.$refStrategy==="seen"?(0,Zu.parseAnyDef)(e):void 0}},Sp=(a,e,t)=>(a.description&&(t.description=a.description,e.markdownDescription&&(t.markdownDescription=a.description)),t)});var Fu=C(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0})});var In=C(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.zodToJsonSchema=void 0;var Vu=Ie(),bp=Qs(),Uu=er(),Ep=(a,e)=>{let t=(0,bp.getRefs)(e),s=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((c,[d,p])=>({...c,[d]:(0,Vu.parseDef)(p._def,{...t,currentPath:[...t.basePath,t.definitionPath,d]},!0)??(0,Uu.parseAnyDef)(t)}),{}):void 0,r=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,n=(0,Vu.parseDef)(a._def,r===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,r]},!1)??(0,Uu.parseAnyDef)(t),o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(n.title=o),t.flags.hasReferencedOpenAiAnyType&&(s||(s={}),s[t.openAiAnyTypeName]||(s[t.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:t.$refStrategy==="relative"?"1":[...t.basePath,t.definitionPath,t.openAiAnyTypeName].join("/")}}));let i=r===void 0?s?{...n,[t.definitionPath]:s}:n:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,r].join("/"),[t.definitionPath]:{...s,[r]:n}};return t.target==="jsonSchema7"?i.$schema="http://json-schema.org/draft-07/schema#":(t.target==="jsonSchema2019-09"||t.target==="openAi")&&(i.$schema="https://json-schema.org/draft/2019-09/schema#"),t.target==="openAi"&&("anyOf"in i||"oneOf"in i||"allOf"in i||"type"in i&&Array.isArray(i.type)),i};is.zodToJsonSchema=Ep});var Hu=C(J=>{"use strict";var Rp=J&&J.__createBinding||(Object.create?function(a,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(a,s,r)}:function(a,e,t,s){s===void 0&&(s=t),a[s]=e[t]}),ee=J&&J.__exportStar||function(a,e){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Rp(e,a,t)};Object.defineProperty(J,"__esModule",{value:!0});ee(Pa(),J);ee(Qs(),J);ee(xr(),J);ee(Ea(),J);ee(Ie(),J);ee(Fu(),J);ee(er(),J);ee(Gs(),J);ee(Ws(),J);ee(Ys(),J);ee(Oa(),J);ee(Xs(),J);ee(en(),J);ee(rn(),J);ee(tn(),J);ee(an(),J);ee(sn(),J);ee(nn(),J);ee(ln(),J);ee(cn(),J);ee(dn(),J);ee(fn(),J);ee(hn(),J);ee(pn(),J);ee(mn(),J);ee(vn(),J);ee(gn(),J);ee(yn(),J);ee(Rn(),J);ee(La(),J);ee(_n(),J);ee(ka(),J);ee(Sn(),J);ee(bn(),J);ee(Ha(),J);ee(En(),J);ee(Tn(),J);ee(In(),J);var Tp=In();J.default=Tp.zodToJsonSchema});var Bu=C(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.Completable=st.McpZodTypeKind=void 0;st.completable=wp;var Ip=Rr(),wn;(function(a){a.Completable="McpCompletable"})(wn||(st.McpZodTypeKind=wn={}));var Et=class extends Ip.ZodType{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}};st.Completable=Et;Et.create=(a,e)=>new Et({type:a,typeName:wn.Completable,complete:e.complete,...Cp(e)});function wp(a,e){return Et.create(a,{...a._def,complete:e})}function Cp(a){if(!a)return{};let{errorMap:e,invalid_type_error:t,required_error:s,description:r}=a;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,i)=>{var c,d;let{message:p}=a;return o.code==="invalid_enum_value"?{message:p??i.defaultError}:typeof i.data>"u"?{message:(c=p??s)!==null&&c!==void 0?c:i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:(d=p??t)!==null&&d!==void 0?d:i.defaultError}},description:r}}});var Qu=C(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.UriTemplate=void 0;var Ku=1e6,Cn=1e6,Ju=1e4,xp=1e6,xn=class a{static isTemplate(e){return/\{[^}\s]+\}/.test(e)}static validateLength(e,t,s){if(e.length>t)throw new Error(`${s} exceeds maximum length of ${t} characters (got ${e.length})`)}get variableNames(){return this.parts.flatMap(e=>typeof e=="string"?[]:e.names)}constructor(e){a.validateLength(e,Ku,"Template"),this.template=e,this.parts=this.parse(e)}toString(){return this.template}parse(e){let t=[],s="",r=0,n=0;for(;r<e.length;)if(e[r]==="{"){s&&(t.push(s),s="");let o=e.indexOf("}",r);if(o===-1)throw new Error("Unclosed template expression");if(n++,n>Ju)throw new Error(`Template contains too many expressions (max ${Ju})`);let i=e.slice(r+1,o),c=this.getOperator(i),d=i.includes("*"),p=this.getNames(i),v=p[0];for(let S of p)a.validateLength(S,Cn,"Variable name");t.push({name:v,operator:c,names:p,exploded:d}),r=o+1}else s+=e[r],r++;return s&&t.push(s),t}getOperator(e){return["+","#",".","/","?","&"].find(s=>e.startsWith(s))||""}getNames(e){let t=this.getOperator(e);return e.slice(t.length).split(",").map(s=>s.replace("*","").trim()).filter(s=>s.length>0)}encodeValue(e,t){return a.validateLength(e,Cn,"Variable value"),t==="+"||t==="#"?encodeURI(e):encodeURIComponent(e)}expandPart(e,t){if(e.operator==="?"||e.operator==="&"){let o=e.names.map(c=>{let d=t[c];if(d===void 0)return"";let p=Array.isArray(d)?d.map(v=>this.encodeValue(v,e.operator)).join(","):this.encodeValue(d.toString(),e.operator);return`${c}=${p}`}).filter(c=>c.length>0);return o.length===0?"":(e.operator==="?"?"?":"&")+o.join("&")}if(e.names.length>1){let o=e.names.map(i=>t[i]).filter(i=>i!==void 0);return o.length===0?"":o.map(i=>Array.isArray(i)?i[0]:i).join(",")}let s=t[e.name];if(s===void 0)return"";let n=(Array.isArray(s)?s:[s]).map(o=>this.encodeValue(o,e.operator));switch(e.operator){case"":return n.join(",");case"+":return n.join(",");case"#":return"#"+n.join(",");case".":return"."+n.join(".");case"/":return"/"+n.join("/");default:return n.join(",")}}expand(e){let t="",s=!1;for(let r of this.parts){if(typeof r=="string"){t+=r;continue}let n=this.expandPart(r,e);n&&((r.operator==="?"||r.operator==="&")&&s?t+=n.replace("?","&"):t+=n,(r.operator==="?"||r.operator==="&")&&(s=!0))}return t}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}partToRegExp(e){let t=[];for(let n of e.names)a.validateLength(n,Cn,"Variable name");if(e.operator==="?"||e.operator==="&"){for(let n=0;n<e.names.length;n++){let o=e.names[n],i=n===0?"\\"+e.operator:"&";t.push({pattern:i+this.escapeRegExp(o)+"=([^&]+)",name:o})}return t}let s,r=e.name;switch(e.operator){case"":s=e.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)";break;case"+":case"#":s="(.+)";break;case".":s="\\.([^/,]+)";break;case"/":s="/"+(e.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)");break;default:s="([^/]+)"}return t.push({pattern:s,name:r}),t}match(e){a.validateLength(e,Ku,"URI");let t="^",s=[];for(let i of this.parts)if(typeof i=="string")t+=this.escapeRegExp(i);else{let c=this.partToRegExp(i);for(let{pattern:d,name:p}of c)t+=d,s.push({name:p,exploded:i.exploded})}t+="$",a.validateLength(t,xp,"Generated regex pattern");let r=new RegExp(t),n=e.match(r);if(!n)return null;let o={};for(let i=0;i<s.length;i++){let{name:c,exploded:d}=s[i],p=n[i+1],v=c.replace("*","");d&&p.includes(",")?o[v]=p.split(","):o[v]=p}return o}};os.UriTemplate=xn});var Xu=C(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.ResourceTemplate=Rt.McpServer=void 0;var Op=Eu(),Gu=Hu(),Ft=Rr(),Q=Zt(),Dp=Bu(),zp=Qu(),On=class{constructor(e,t){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new Op.Server(e,t)}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(Q.ListToolsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Q.CallToolRequestSchema.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(Q.ListToolsRequestSchema,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,t])=>{let s={name:e,title:t.title,description:t.description,inputSchema:t.inputSchema?(0,Gu.zodToJsonSchema)(t.inputSchema,{strictUnions:!0}):Ap,annotations:t.annotations};return t.outputSchema&&(s.outputSchema=(0,Gu.zodToJsonSchema)(t.outputSchema,{strictUnions:!0})),s})})),this.server.setRequestHandler(Q.CallToolRequestSchema,async(e,t)=>{let s=this._registeredTools[e.params.name];if(!s)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Tool ${e.params.name} not found`);if(!s.enabled)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Tool ${e.params.name} disabled`);let r;if(s.inputSchema){let n=await s.inputSchema.safeParseAsync(e.params.arguments);if(!n.success)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Invalid arguments for tool ${e.params.name}: ${n.error.message}`);let o=n.data,i=s.callback;try{r=await Promise.resolve(i(o,t))}catch(c){r={content:[{type:"text",text:c instanceof Error?c.message:String(c)}],isError:!0}}}else{let n=s.callback;try{r=await Promise.resolve(n(t))}catch(o){r={content:[{type:"text",text:o instanceof Error?o.message:String(o)}],isError:!0}}}if(s.outputSchema&&!r.isError){if(!r.structuredContent)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Tool ${e.params.name} has an output schema but no structured content was provided`);let n=await s.outputSchema.safeParseAsync(r.structuredContent);if(!n.success)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Invalid structured content for tool ${e.params.name}: ${n.error.message}`)}return r}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Q.CompleteRequestSchema.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Q.CompleteRequestSchema,async e=>{switch(e.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return this.handleResourceCompletion(e,e.params.ref);default:throw new Q.McpError(Q.ErrorCode.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,t){let s=this._registeredPrompts[t.name];if(!s)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Prompt ${t.name} not found`);if(!s.enabled)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Prompt ${t.name} disabled`);if(!s.argsSchema)return us;let r=s.argsSchema.shape[e.params.argument.name];if(!(r instanceof Dp.Completable))return us;let o=await r._def.complete(e.params.argument.value,e.params.context);return Yu(o)}async handleResourceCompletion(e,t){let s=Object.values(this._registeredResourceTemplates).find(o=>o.resourceTemplate.uriTemplate.toString()===t.uri);if(!s){if(this._registeredResources[t.uri])return us;throw new Q.McpError(Q.ErrorCode.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let r=s.resourceTemplate.completeCallback(e.params.argument.name);if(!r)return us;let n=await r(e.params.argument.value,e.params.context);return Yu(n)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(Q.ListResourcesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Q.ListResourceTemplatesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Q.ReadResourceRequestSchema.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(Q.ListResourcesRequestSchema,async(e,t)=>{let s=Object.entries(this._registeredResources).filter(([n,o])=>o.enabled).map(([n,o])=>({uri:n,name:o.name,...o.metadata})),r=[];for(let n of Object.values(this._registeredResourceTemplates)){if(!n.resourceTemplate.listCallback)continue;let o=await n.resourceTemplate.listCallback(t);for(let i of o.resources)r.push({...n.metadata,...i})}return{resources:[...s,...r]}}),this.server.setRequestHandler(Q.ListResourceTemplatesRequestSchema,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([t,s])=>({name:t,uriTemplate:s.resourceTemplate.uriTemplate.toString(),...s.metadata}))})),this.server.setRequestHandler(Q.ReadResourceRequestSchema,async(e,t)=>{let s=new URL(e.params.uri),r=this._registeredResources[s.toString()];if(r){if(!r.enabled)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Resource ${s} disabled`);return r.readCallback(s,t)}for(let n of Object.values(this._registeredResourceTemplates)){let o=n.resourceTemplate.uriTemplate.match(s.toString());if(o)return n.readCallback(s,o,t)}throw new Q.McpError(Q.ErrorCode.InvalidParams,`Resource ${s} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(Q.ListPromptsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Q.GetPromptRequestSchema.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(Q.ListPromptsRequestSchema,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,t])=>({name:e,title:t.title,description:t.description,arguments:t.argsSchema?Np(t.argsSchema):void 0}))})),this.server.setRequestHandler(Q.GetPromptRequestSchema,async(e,t)=>{let s=this._registeredPrompts[e.params.name];if(!s)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Prompt ${e.params.name} not found`);if(!s.enabled)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Prompt ${e.params.name} disabled`);if(s.argsSchema){let r=await s.argsSchema.safeParseAsync(e.params.arguments);if(!r.success)throw new Q.McpError(Q.ErrorCode.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${r.error.message}`);let n=r.data,o=s.callback;return await Promise.resolve(o(n,t))}else{let r=s.callback;return await Promise.resolve(r(t))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,t,...s){let r;typeof s[0]=="object"&&(r=s.shift());let n=s[0];if(typeof t=="string"){if(this._registeredResources[t])throw new Error(`Resource ${t} is already registered`);let o=this._createRegisteredResource(e,void 0,t,r,n);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let o=this._createRegisteredResourceTemplate(e,void 0,t,r,n);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}}registerResource(e,t,s,r){if(typeof t=="string"){if(this._registeredResources[t])throw new Error(`Resource ${t} is already registered`);let n=this._createRegisteredResource(e,s.title,t,s,r);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let n=this._createRegisteredResourceTemplate(e,s.title,t,s,r);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}}_createRegisteredResource(e,t,s,r,n){let o={name:e,title:t,metadata:r,readCallback:n,enabled:!0,disable:()=>o.update({enabled:!1}),enable:()=>o.update({enabled:!0}),remove:()=>o.update({uri:null}),update:i=>{typeof i.uri<"u"&&i.uri!==s&&(delete this._registeredResources[s],i.uri&&(this._registeredResources[i.uri]=o)),typeof i.name<"u"&&(o.name=i.name),typeof i.title<"u"&&(o.title=i.title),typeof i.metadata<"u"&&(o.metadata=i.metadata),typeof i.callback<"u"&&(o.readCallback=i.callback),typeof i.enabled<"u"&&(o.enabled=i.enabled),this.sendResourceListChanged()}};return this._registeredResources[s]=o,o}_createRegisteredResourceTemplate(e,t,s,r,n){let o={resourceTemplate:s,title:t,metadata:r,readCallback:n,enabled:!0,disable:()=>o.update({enabled:!1}),enable:()=>o.update({enabled:!0}),remove:()=>o.update({name:null}),update:i=>{typeof i.name<"u"&&i.name!==e&&(delete this._registeredResourceTemplates[e],i.name&&(this._registeredResourceTemplates[i.name]=o)),typeof i.title<"u"&&(o.title=i.title),typeof i.template<"u"&&(o.resourceTemplate=i.template),typeof i.metadata<"u"&&(o.metadata=i.metadata),typeof i.callback<"u"&&(o.readCallback=i.callback),typeof i.enabled<"u"&&(o.enabled=i.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=o,o}_createRegisteredPrompt(e,t,s,r,n){let o={title:t,description:s,argsSchema:r===void 0?void 0:Ft.z.object(r),callback:n,enabled:!0,disable:()=>o.update({enabled:!1}),enable:()=>o.update({enabled:!0}),remove:()=>o.update({name:null}),update:i=>{typeof i.name<"u"&&i.name!==e&&(delete this._registeredPrompts[e],i.name&&(this._registeredPrompts[i.name]=o)),typeof i.title<"u"&&(o.title=i.title),typeof i.description<"u"&&(o.description=i.description),typeof i.argsSchema<"u"&&(o.argsSchema=Ft.z.object(i.argsSchema)),typeof i.callback<"u"&&(o.callback=i.callback),typeof i.enabled<"u"&&(o.enabled=i.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=o,o}_createRegisteredTool(e,t,s,r,n,o,i){let c={title:t,description:s,inputSchema:r===void 0?void 0:Ft.z.object(r),outputSchema:n===void 0?void 0:Ft.z.object(n),annotations:o,callback:i,enabled:!0,disable:()=>c.update({enabled:!1}),enable:()=>c.update({enabled:!0}),remove:()=>c.update({name:null}),update:d=>{typeof d.name<"u"&&d.name!==e&&(delete this._registeredTools[e],d.name&&(this._registeredTools[d.name]=c)),typeof d.title<"u"&&(c.title=d.title),typeof d.description<"u"&&(c.description=d.description),typeof d.paramsSchema<"u"&&(c.inputSchema=Ft.z.object(d.paramsSchema)),typeof d.callback<"u"&&(c.callback=d.callback),typeof d.annotations<"u"&&(c.annotations=d.annotations),typeof d.enabled<"u"&&(c.enabled=d.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=c,this.setToolRequestHandlers(),this.sendToolListChanged(),c}tool(e,...t){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let s,r,n,o;if(typeof t[0]=="string"&&(s=t.shift()),t.length>1){let c=t[0];Wu(c)?(r=t.shift(),t.length>1&&typeof t[0]=="object"&&t[0]!==null&&!Wu(t[0])&&(o=t.shift())):typeof c=="object"&&c!==null&&(o=t.shift())}let i=t[0];return this._createRegisteredTool(e,void 0,s,r,n,o,i)}registerTool(e,t,s){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:r,description:n,inputSchema:o,outputSchema:i,annotations:c}=t;return this._createRegisteredTool(e,r,n,o,i,c,s)}prompt(e,...t){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let s;typeof t[0]=="string"&&(s=t.shift());let r;t.length>1&&(r=t.shift());let n=t[0],o=this._createRegisteredPrompt(e,void 0,s,r,n);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}registerPrompt(e,t,s){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:r,description:n,argsSchema:o}=t,i=this._createRegisteredPrompt(e,r,n,o,s);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),i}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};Rt.McpServer=On;var Dn=class{constructor(e,t){this._callbacks=t,this._uriTemplate=typeof e=="string"?new zp.UriTemplate(e):e}get uriTemplate(){return this._uriTemplate}get listCallback(){return this._callbacks.list}completeCallback(e){var t;return(t=this._callbacks.complete)===null||t===void 0?void 0:t[e]}};Rt.ResourceTemplate=Dn;var Ap={type:"object",properties:{}};function Wu(a){return typeof a!="object"||a===null?!1:Object.keys(a).length===0||Object.values(a).some(jp)}function jp(a){return a!==null&&typeof a=="object"&&"parse"in a&&typeof a.parse=="function"&&"safeParse"in a&&typeof a.safeParse=="function"}function Np(a){return Object.entries(a.shape).map(([e,t])=>({name:e,description:t.description,required:!t.isOptional()}))}function Yu(a){return{completion:{values:a.slice(0,100),total:a.length,hasMore:a.length>100}}}var us={completion:{values:[],hasMore:!1}}});var rl=C(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.ReadBuffer=void 0;Tt.deserializeMessage=el;Tt.serializeMessage=qp;var $p=Zt(),zn=class{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;let e=this._buffer.indexOf(`
`);if(e===-1)return null;let t=this._buffer.toString("utf8",0,e).replace(/\r$/,"");return this._buffer=this._buffer.subarray(e+1),el(t)}clear(){this._buffer=void 0}};Tt.ReadBuffer=zn;function el(a){return $p.JSONRPCMessageSchema.parse(JSON.parse(a))}function qp(a){return JSON.stringify(a)+`
`}});var sl=C(It=>{"use strict";var kp=It&&It.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(It,"__esModule",{value:!0});It.StdioServerTransport=void 0;var tl=kp(require("node:process")),al=rl(),An=class{constructor(e=tl.default.stdin,t=tl.default.stdout){this._stdin=e,this._stdout=t,this._readBuffer=new al.ReadBuffer,this._started=!1,this._ondata=s=>{this._readBuffer.append(s),this.processReadBuffer()},this._onerror=s=>{var r;(r=this.onerror)===null||r===void 0||r.call(this,s)}}async start(){if(this._started)throw new Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){for(var e,t;;)try{let s=this._readBuffer.readMessage();if(s===null)break;(e=this.onmessage)===null||e===void 0||e.call(this,s)}catch(s){(t=this.onerror)===null||t===void 0||t.call(this,s)}}async close(){var e;this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0&&this._stdin.pause(),this._readBuffer.clear(),(e=this.onclose)===null||e===void 0||e.call(this)}send(e){return new Promise(t=>{let s=(0,al.serializeMessage)(e);this._stdout.write(s)?t():this._stdout.once("drain",t)})}};It.StdioServerTransport=An});var Zp=exports&&exports.__createBinding||(Object.create?function(a,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(a,s,r)}:function(a,e,t,s){s===void 0&&(s=t),a[s]=e[t]}),Lp=exports&&exports.__setModuleDefault||(Object.create?function(a,e){Object.defineProperty(a,"default",{enumerable:!0,value:e})}:function(a,e){a.default=e}),jn=exports&&exports.__importStar||function(){var a=function(e){return a=Object.getOwnPropertyNames||function(t){var s=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[s.length]=r);return s},a(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s=a(e),r=0;r<s.length;r++)s[r]!=="default"&&Zp(t,e,s[r]);return Lp(t,e),t}}();Object.defineProperty(exports,"__esModule",{value:!0});var Mp=Xu(),Fp=sl(),fe=Rr(),nt=jn(require("node:path")),Vt=jn(require("node:os")),Nn=jn(require("node:fs/promises")),Vp=require("node:child_process"),Up=require("node:util"),Hp=Vt.platform(),$n=[process.cwd()],Bp=1024*1024,Kp=(0,Up.promisify)(Vp.exec);`${Hp}`;var it=new Mp.McpServer({name:"mcp-ultra-minimal",version:"1.0.0"});it.registerTool("health",{description:"Liveness/readiness probe",outputSchema:{ok:fe.z.boolean(),roots:fe.z.array(fe.z.string()),cwd:fe.z.string()}},async()=>({content:[{type:"text",text:"ok"}],structuredContent:{ok:!0,roots:$n,cwd:process.cwd()}}));it.registerTool("system_info",{description:"Basic host info (OS, arch, cpus, memGB)",outputSchema:{platform:fe.z.string(),arch:fe.z.string(),cpus:fe.z.number(),memGB:fe.z.number()}},async()=>({content:[],structuredContent:{platform:Vt.platform(),arch:Vt.arch(),cpus:Vt.cpus().length,memGB:Math.round(Vt.totalmem()/1024**3*10)/10}}));function Ut(a){let e=nt.resolve(a);for(let t of $n)if(e.startsWith(nt.resolve(t)))return e;throw new Error(`Path outside allowed roots: ${a}`)}function Jp(a,e){if(Buffer.byteLength(a,"utf8")<=e)return{text:a,truncated:!1};let s=a;for(;Buffer.byteLength(s,"utf8")>e;)s=s.slice(0,Math.floor(s.length*.9));return{text:s+`
... [truncated]`,truncated:!0}}it.registerTool("fs_list",{description:"List files/directories under a relative path (non-recursive)",inputSchema:{dir:fe.z.string().default(".")},outputSchema:{entries:fe.z.array(fe.z.object({name:fe.z.string(),isDir:fe.z.boolean()}))}},async({dir:a})=>{let e;try{e=Ut(nt.resolve(a))}catch{e=nt.resolve($n[0],a),Ut(e)}let t=await Nn.readdir(e,{withFileTypes:!0});return{content:[],structuredContent:{entries:t.map(s=>({name:s.name,isDir:s.isDirectory()}))}}});it.registerTool("fs_read_text",{description:"Read a UTF-8 text file within the sandbox",inputSchema:{path:fe.z.string()},outputSchema:{path:fe.z.string(),content:fe.z.string(),truncated:fe.z.boolean()}},async({path:a})=>{let e=Ut(nt.resolve(a)),t=await Nn.readFile(e,"utf8"),{text:s,truncated:r}=Jp(t,Bp);return{content:[],structuredContent:{path:e,content:s,truncated:r}}});it.registerTool("fs_write_text",{description:"Write a UTF-8 text file within the sandbox",inputSchema:{path:fe.z.string(),content:fe.z.string()},outputSchema:{path:fe.z.string(),success:fe.z.boolean()}},async({path:a,content:e})=>{let t=Ut(nt.resolve(a));return await Nn.writeFile(t,e,"utf8"),{content:[],structuredContent:{path:t,success:!0}}});it.registerTool("proc_run",{description:"Run a process with arguments",inputSchema:{command:fe.z.string(),args:fe.z.array(fe.z.string()).default([]),cwd:fe.z.string().optional()},outputSchema:{success:fe.z.boolean(),stdout:fe.z.string().optional(),stderr:fe.z.string().optional(),exitCode:fe.z.number().optional()}},async({command:a,args:e,cwd:t})=>{let s=t?Ut(nt.resolve(t)):process.cwd();try{let{stdout:r,stderr:n}=await Kp(`${a} ${e.join(" ")}`,{cwd:s});return{content:[],structuredContent:{success:!0,stdout:r||void 0,stderr:n||void 0,exitCode:0}}}catch(r){let n=r instanceof Error?r.message:String(r),o=r?.stdout||void 0,i=r?.stderr||void 0,c=r?.code||-1;return{content:[],structuredContent:{success:!1,stdout:o,stderr:i,exitCode:c,error:n}}}});async function Qp(){let a=new Fp.StdioServerTransport;await it.connect(a)}Qp().catch(a=>{`${a instanceof Error?a.message:String(a)}`,process.exit(1)});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
